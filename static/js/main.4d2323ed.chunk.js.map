{"version":3,"sources":["components/Editor/TextProperties/TextProperties.module.css","components/PrimaryPanel/PrimaryPanel.module.css","components/Workspace/Workspace.module.css","components/Workspace/Canvas/Canvas.module.css","components/Workspace/Canvas/InputText/InputText.module.css","components/Editor/Editor.module.css","components/ColorPicker/ColorPicker.module.css","components/Editor/Customize/ButtonColor.module.css","components/CanvasTools/CanvasTools.module.css","components/Editor/Graphics/Graphics.module.css","components/Editor/FigureProperties/FigureProperties.module.css","components/CanvasTools/ToolsButton.module.css","components/Editor/Customize/Customize.module.css","components/Editor/FontChoose/FontChoose.module.css","components/CanvasTools/Panel/Panel.module.css","components/CanvasTools/ToolsButton.tsx","components/CanvasTools/Panel/Panel.tsx","utils/typeGuards.ts","store/reducers/ElementReducers.ts","store/reducers/CanvasReducers.ts","store/reducers/ElementsRedusers.ts","store/reducers/CardReducers.ts","store/store.ts","store/initalState.ts","components/CanvasTools/CanvasTools.tsx","store/actionCreators/HistoryActionCreators.ts","customHooks/useComponentVisible.tsx","components/NavigationBar/Menu/Popup.tsx","components/NavigationBar/Menu/Menu.tsx","components/NavigationBar/Logo/Logo.tsx","store/actionCreators/CanvasActionCreators.ts","components/NavigationBar/NavigationBar.tsx","components/PrimaryPanel/Button/Button.tsx","components/PrimaryPanel/PrimaryPanel.tsx","components/Workspace/Canvas/SelectElement/SelectElement.tsx","store/actionCreators/ElementsActionCreators.ts","store/actionCreators/TextActionCreators.ts","components/Workspace/Canvas/InputText/InputText.tsx","components/Workspace/Canvas/SelectElement/SelectElementFunction.ts","customHooks/useDragAndDrop.tsx","customHooks/useObjectVisibtle.tsx","store/actionCreators/FigureActionCreators.ts","store/actionCreators/ImageActionCreators.ts","customHooks/useResizeObject.tsx","components/Workspace/Canvas/Elements/Triangle.tsx","components/Workspace/Canvas/Elements/Rectangle.tsx","components/Workspace/Canvas/Elements/Ellipse.tsx","components/Workspace/Canvas/Elements/Image.tsx","components/Workspace/Canvas/Elements/Text.tsx","components/Workspace/Canvas/Elements/Elements.tsx","components/Workspace/Canvas/Canvas.tsx","components/Workspace/Workspace.tsx","components/Editor/ImageManager/ImageManager.tsx","components/ColorPicker/ColorPicker.tsx","components/Editor/Customize/ButtonColor.tsx","components/Editor/Customize/Customize.tsx","components/Editor/Templates/Templates.tsx","components/Editor/Graphics/Graphics.tsx","components/Editor/Text/Text.tsx","components/Editor/FigureProperties/FigurePropeties.tsx","components/Editor/TextProperties/TextProperties.tsx","components/Editor/FontChoose/ButtonFont.tsx","components/Editor/FontChoose/fonts.ts","components/Editor/FontChoose/FontChoose.tsx","components/Editor/StickersManager/CollectionOfStickers.tsx","components/Editor/StickersManager/Stickers.tsx","components/Editor/StickersManager/StickersManager.tsx","components/Editor/Editor.tsx","components/PopupWindows/SaveComputer/Button.tsx","components/PopupWindows/SaveComputer/SaveComputer.tsx","components/PopupWindows/ResizeTemplate/Button.tsx","components/PopupWindows/ResizeTemplate/fonts.ts","components/PopupWindows/ResizeTemplate/ResizeTemplate.tsx","components/PopupWindows/ResetCanvas/ResetCanvas.tsx","store/actionCreators/CardActionCreators.ts","components/PopupWindows/InsertImage/InsertImage.tsx","components/PopupWindows/UnavailableContent/UnavailableContent.tsx","components/PopupWindows/SaveComputer/SaveAsJSON.tsx","components/Card.tsx","index.tsx","components/Card.module.css","components/Editor/ImageManager/ImageManager.module.css","components/PopupWindows/SaveComputer/SaveAsJSON.module.css","components/PopupWindows/ResizeTemplate/Button.module.css","components/PopupWindows/ResetCanvas/ResetCanvas.module.css","components/PopupWindows/InsertImage/InsertImage.module.css","components/PopupWindows/UnavailableContent/UnavailableContent.module.css","components/NavigationBar/Menu/Menu.module.css","components/NavigationBar/Menu/Popup.module.css","components/PopupWindows/ResizeTemplate/ResizeTemplate.module.css","components/PrimaryPanel/Button/Button.module.css","components/Editor/Templates/Templates.module.css","components/Editor/Text/Text.module.css","components/Editor/FontChoose/ButtonFont.module.css","components/Editor/StickersManager/Stickers.module.css","components/Workspace/Canvas/SelectElement/SelectElement.module.css","components/NavigationBar/Logo/Logo.module.css","components/Editor/StickersManager/CollectionOfStickers.module.css","components/Editor/StickersManager/StickersManager.module.css","components/PopupWindows/SaveComputer/Button.module.css","components/NavigationBar/NavigationBar.module.css","components/PopupWindows/SaveComputer/SaveComputer.module.css"],"names":["module","exports","header","header_layout","image_wrap","image","button_wrap","button","color","color_triangle","style_wrap","font","arrow","size_value","px","layout","pickerWrap","panel","workspace","canvas","input","editor","canvasTools","layers","history","toolButtons","viewOn","viewOff","graphics_layout","button_layout","svg","ellipse_back","triangle_back","colors","text","picker_layout","wrap","unblock","block","comment","textWrap","size","colors__layout","color_text","back_wrap","back","search_image","search","search_input","header_font","fonts","line","elementsWrap","elementWrap","panelImage","PanleText","ToolsButton","props","_useState","useState","styles","_useState2","Object","slicedToArray","hoverButton","setHoverButton","react_default","a","createElement","onClick","onclick","className","onMouseOut","onMouseOver","src","name","Panel","PanelElements","elements","map","element","index","key","uuid","style","reverse","view","setView","isImage","undefined","url","isText","str","fontSize","isFigure","figure","isTriangle","firstPoint","secondPoint","thirdPoint","isRectangle","isEllipse","rx","ry","elementReducers","state","arguments","length","action","type","canvasReducers","arrayElement","filter","selectElement","concat","centre","x","y","id","object","width","height","objectSpread","points","elementsReducers","sizeCanvas","isSetElementAction","getSelectElement","background","backgroundCanvas","find","maxStackValue","pushStack","stack","data","shift","push","getNameAndImageAction","actionName","imageUrl","store","createStore","undo","pop","redo","isAddJSONAction","CanvasTools","elem","opacity","shapeCount","imageCount","textCount","i","viewLayers","setViewLayers","_useState3","_useState4","viewHistory","setViewHistory","setViewReset","dispatch","useComponentVisible","initialIsVisible","isComponentVisible","setIsComponentVisible","ref","useRef","handleClickOutside","event","current","contains","target","useEffect","document","addEventListener","removeEventListener","Popup","list","click","marginTop","display","transition","functional","lists","children","Menu","_useComponentVisible","Logo","logo","setSizeCanvas","setBackgroundColor","addCanvasFromJSON","NavigationBar","refInput","createRef","navbar","button__layout","list_element","list_image","list_text","setViewEditor","stateHoverPanel","setHoverPanel","hoverPanel","widthEditor","widthWorkspace","htmlFor","accept","onChange","_ref","asyncToGenerator","regenerator_default","mark","_callee","getCanvas","_context","prev","next","currentTarget","files","Promise","resolve","reject","getState","file_to_read","console","log","fileread","FileReader","onload","e","content","result","JSON","parse","onerror","readAsText","t0","t1","t2","sent","t3","call","value","stop","_x","apply","this","setViewSave","setSaveJSON","Button","imageStyle","backgroundImage","imageName","hoverImage","widthButton","stateViewEditor","viewEditor","button_image","button_name","displayButtonText","buttons","PrimaryPanel","Buttons","widthPanel","workspaceMarginLeft","SelectElement","Fragment","statePointsSelectElement","positionPoints","border","pointTopLeft","refs","point","pointBottomLeft","pointBottomRight","pointTopRight","blockTop","blockRight","blockLeft","blockBottom","setSelectElement","setColorText","InputText","stateViewInput","setViewInput","positionSelectElement","stateSize","refInputText","stateInputValue","inputValue","onBlur","setInputValue","getCentreAndSizeOfElement","refText","triangle","rectangle","ellipse","getBoundingClientRect","useDragAndDrop","elementRef","position","setPosition","setPositionSelectElement","setSize","isMoving","setIsMoving","startPos","newPos","MouseDownListener","textPosition","pageX","pageY","MouseMoveListener","MouseUpListener","delta","useObjectVisible","refEditor","viewInput","setColorFigure","addImage","useResizeObject","initSize","stateSizeSelectElement","newSize","MoveTopLeftPoint","MoveTopRightPoint","MoveBottomLeftPoint","MoveBottomRightPoint","MoveTopBlock","MoveLeftBlock","MoveRightBlock","MoveBottomBlock","resizeTriangle","resizeEllipse","resizeImage","Triangle","third","first","second","_useState5","_useState6","setPositionPoints","pointNames","fill","Rectangle","Ellipse","radius","cx","cy","Image","crossOrigin","href","Text","_getCentreAndSizeOfEl","fontFamily","string","onDoubleClick","Elements","Image_Image","Canvas","escFunction","keyCode","zoom","sizeSelectElement","setSizeSelectElement","Workspace","ImageManager","createImage","img","_getSize","imgSrc","abrupt","imgUrl","URL","createObjectURL","getSize","then","setSizeInsertImage","setNotification","ColorPicker","react_color_es","newColor","function","hex","default","picker","borderRadius","backgroundColor","paddingTop","ButtonColor","Customize","ButtonsColor","setViewResize","Templates","Graphics","FigureProperties","TextProperties","sizeText","digits","maxLength","includes","slice","Number","ButtonFont","selectFont","selected","FontChoose","setValue","fonts_elem","setFont","placeholder","onFocus","CollectionOfStickers","stickers","_loop","path","stickersName","sticker","pushImage","Stickers","viewStickers","setViewStickers","setArrow","popup","subheader","toUpperCase","getHeader","StickersManager","Editor","State","Text_Text","setBackground","SaveComputer","refCanvas","refButton","format","setFormat","fileName","setFileName","boxShadow","setBoxShadow","useCallback","canvasModel","modal_window","content_layout","subHeader","required","format__buttonWrap","format__buttonJPG","format_selected","format__buttonPNG","canvasSize","Button_Button","saveCanvas","focus","ctx","_iterator","_step","download","getContext","drawBackground","_createForOfIteratorHelper","s","n","done","drawTriangle","drawRectangle","drawEllipse","drawImage","drawText","f","finish","toDataURL","toLowerCase","context","fillStyle","fillRect","beginPath","moveTo","lineTo","Math","PI","_callee2","imageFromModel","_context2","decode","fillText","setWidth","setHeight","setViewList","size_width","size_height","ResizeTemplate","font_name","viewList","ResizeTemplate_Button_Button","headerWrap","font_family","font_layout","size_layout","font_size","font_list","buttons_layout","sizes","px_layout","size_header","px_w","px_h","buttonLayout","ResetCanvas","InsertImage","stateSizeInsertImage","sizeInsertImage","UnavailableContent","SaveAsJSON","dataStr","encodeURIComponent","stringify","dlAnchorElem","setAttribute","Card","viewSave","viewResize","viewReset","_useState7","_useState8","viewNotification","setViewNotification","_useState9","_useState10","_useState11","_useState12","viewSaveJSON","setViewSaveJSON","_useState13","_useState14","_useState15","_useState16","_useState17","_useState18","ctrlKey","card_size","card__content","card__workspace","marginLeft","flex","shadow","render","ReactDOM","es","getElementById","subscribe"],"mappings":"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,eACA,aACA,iBACA,QACA,QACA,UACA,aACA,UACA,SACA,SACA,SACA,aACA,QACA,WACA,UACA,SACA,oBACA,QACA,aACA,YACA,gBACA,cACA,SACA,oBACA,cACA,YACA,gBACA,cACA,iBACA,mBACA,gBACA,SACA,QACA,YACA,QACA,mBACA,cACA,YACA,kBACA,MACA,QACA,WACA,aACA,kBACA,uBACA,cACA,YACA,SACA,WACA,UACA,eACA,eACA,kBACA,WACA,cACA,eACA,SACA,UACA,aACA,QACA,YACA,OACA,iBACA,SACA,eACA,WACA,eACA,eACA,kBACA,OACA,oBACA,0BACA,QACA,UACA,QACA,QACA,YACA,kBACA,OACA,aACA,oBACA,cACA,kBACA,YACA,UACA,cACA,mBACA,iBACA,OACA,cACA,eACA,gBACA,SACA,aACA,SACA,UACA,aACA,wBACA,yBACA,SACA,YACA,uBACA,WACA,SACA,SACA,kBACA,cACA,YACA,sBACA,cACA,WACA,SACA,WACA,SACA,UACA,cACA,qBACA,UACA,cACA,mBACA,sBACA,WACA,mBACA,aACA,UACA,QACA,eACA,YACA,YACA,kBACA,UACA,eACA,eACA,kBACA,YACA,SACA,cACA,cACA,YACA,UACA,iBACA,qBACA,YACA,aACA,aACA,UACA,SACA,QACA,kBACA,aACA,uBACA,YACA,SACA,OACA,aACA,kBACA,eACA,SACA,QACA,WACA,YACA,SACA,eACA,cACA,UACA,WACA,WACA,aACA,WACA,YACA,cACA,YACA,cCxLG,SAASqW,GAAW9V,GAA4B,IAAAC,EACzBC,mBAAS,IADgBE,EAAAC,OAAAC,EAAA,EAAAD,CAAAJ,EAAA,GACrC8V,GADqC3V,EAAA,GAAAA,EAAA,IAE7C4V,EAAiCvW,GAAM6B,IAAI,SAAUpE,GACvD,OAAOuD,EAAAC,EAAAC,cAACgV,GAAD,CACClU,IAAKC,iBACLxE,KAAMA,EACN0Y,WAAY5V,EAAM9C,KAClB+Y,QAASjW,EAAMiW,QACfzS,cAAe2B,EAAMmF,WAAW5M,OAAO8F,kBAMn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","file":"static/js/main.4d2323ed.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"TextProperties_header__3s-yb\",\"header_layout\":\"TextProperties_header_layout__3R02B\",\"image_wrap\":\"TextProperties_image_wrap__1nILT\",\"image\":\"TextProperties_image__3aKIN\",\"button_wrap\":\"TextProperties_button_wrap__3rl9C\",\"button\":\"TextProperties_button__2fxfu\",\"color\":\"TextProperties_color__INsou\",\"color_triangle\":\"TextProperties_color_triangle__2vIs9\",\"style_wrap\":\"TextProperties_style_wrap__1FSsl\",\"font\":\"TextProperties_font__3cMPn\",\"arrow\":\"TextProperties_arrow__2sOYi\",\"size_value\":\"TextProperties_size_value__6D5b9\",\"px\":\"TextProperties_px__2y2oX\",\"layout\":\"TextProperties_layout__2OiXJ\",\"pickerWrap\":\"TextProperties_pickerWrap__wtMm1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"panel\":\"PrimaryPanel_panel__1CWIi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"workspace\":\"Workspace_workspace__3Ance\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"canvas\":\"Canvas_canvas__3NFHM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"input\":\"InputText_input__2xfft\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"editor\":\"Editor_editor__SUJQ-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"ColorPicker_header__MQHpM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"color\":\"ButtonColor_color__1D2-t\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"canvasTools\":\"CanvasTools_canvasTools__2oTZG\",\"layers\":\"CanvasTools_layers__3bVhr\",\"history\":\"CanvasTools_history__1PQno\",\"toolButtons\":\"CanvasTools_toolButtons__8tget\",\"viewOn\":\"CanvasTools_viewOn__3F9e2\",\"viewOff\":\"CanvasTools_viewOff__gL6yQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Graphics_header__1oI8m\",\"button\":\"Graphics_button__2rP_T\",\"graphics_layout\":\"Graphics_graphics_layout__rsw9V\",\"button_layout\":\"Graphics_button_layout__1XVCy\",\"svg\":\"Graphics_svg__1psJd\",\"ellipse_back\":\"Graphics_ellipse_back__10FSV\",\"triangle_back\":\"Graphics_triangle_back__228_y\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"FigureProperties_header__1dcgq\",\"header_layout\":\"FigureProperties_header_layout__1UCp3\",\"image_wrap\":\"FigureProperties_image_wrap__3Vgx5\",\"image\":\"FigureProperties_image__3v0jP\",\"color\":\"FigureProperties_color__XD05_\",\"color_triangle\":\"FigureProperties_color_triangle__39v6j\",\"pickerWrap\":\"FigureProperties_pickerWrap__3tcLi\",\"colors\":\"FigureProperties_colors__1WhG0\",\"text\":\"FigureProperties_text__2JLB5\",\"picker_layout\":\"FigureProperties_picker_layout__wb_bN\",\"button_wrap\":\"FigureProperties_button_wrap__3XMIH\",\"button\":\"FigureProperties_button__2vn5f\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrap\":\"ToolsButton_wrap__IOoQb\",\"viewOff\":\"ToolsButton_viewOff__2qD8-\",\"viewOn\":\"ToolsButton_viewOn__37mjB\",\"image\":\"ToolsButton_image__2h1Nv\",\"unblock\":\"ToolsButton_unblock__NiBWB\",\"block\":\"ToolsButton_block__2R0KF\",\"comment\":\"ToolsButton_comment__1hSQ_\",\"textWrap\":\"ToolsButton_textWrap__1EKF0\",\"text\":\"ToolsButton_text__3s7CZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Customize_header__2KLGW\",\"button\":\"Customize_button__BUfz4\",\"text\":\"Customize_text__1Kirn\",\"size\":\"Customize_size__zIxPs\",\"colors\":\"Customize_colors__3vwZu\",\"colors__layout\":\"Customize_colors__layout__20fVB\",\"color\":\"Customize_color__3v4rZ\",\"color_text\":\"Customize_color_text__17XXg\",\"color_triangle\":\"Customize_color_triangle__1rSgb\",\"pickerWrap\":\"Customize_pickerWrap__2UMvi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header_layout\":\"FontChoose_header_layout__3vu9P\",\"back_wrap\":\"FontChoose_back_wrap__1OLaV\",\"back\":\"FontChoose_back__lA480\",\"header\":\"FontChoose_header__1hVLR\",\"search_image\":\"FontChoose_search_image__3lRMK\",\"search\":\"FontChoose_search__9anbQ\",\"search_input\":\"FontChoose_search_input__QsGlf\",\"header_font\":\"FontChoose_header_font__2se5M\",\"fonts\":\"FontChoose_fonts__3Rrpy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrap\":\"Panel_wrap__JBxh_\",\"header\":\"Panel_header__2NbQ5\",\"line\":\"Panel_line__2jx_D\",\"image\":\"Panel_image__159gb\",\"elementsWrap\":\"Panel_elementsWrap__1PUu7\",\"elementWrap\":\"Panel_elementWrap__Tm057\",\"panelImage\":\"Panel_panelImage__3BWb4\",\"PanleText\":\"Panel_PanleText__1QXrC\",\"viewOn\":\"Panel_viewOn__3LsoI\",\"viewOff\":\"Panel_viewOff__1Wxdj\"};","import React, { useState } from 'react'\r\nimport styles from './ToolsButton.module.css'\r\n\r\ninterface ToolsButtonPropsType {\r\n    block: boolean,\r\n    image: string,\r\n    name: string,\r\n    onclick: () => void,\r\n}\r\n\r\nexport function ToolsButton(props: ToolsButtonPropsType) {\r\n    const [hoverButton, setHoverButton] = useState(styles.viewOff)\r\n    const buttonStyles = () => { return props.block ? styles.block : styles.unblock }\r\n\r\n    const mouseOutHandler = () => {\r\n        setHoverButton(styles.viewOff)\r\n    };\r\n\r\n    const mouseOverHandler = () => {\r\n        setHoverButton(styles.viewOn)\r\n    };\r\n    return (\r\n        <div onClick={() => {\r\n            { !props.block && props.onclick() }\r\n        }\r\n        }>\r\n            <div\r\n                className={styles.wrap + ' ' + buttonStyles()}\r\n                onMouseOut={mouseOutHandler}\r\n                onMouseOver={mouseOverHandler}\r\n            >\r\n                <img className={styles.image} src={props.image} />\r\n            </div>\r\n            <div className={styles.comment + ' ' + hoverButton}>\r\n                <div className={styles.textWrap}>\r\n                    <div className={styles.text}>{props.name}</div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React from 'react'\r\nimport { uuid } from 'uuidv4'\r\nimport { PanelItem } from '../CanvasTools'\r\nimport styles from './Panel.module.css'\r\n\r\n\r\nexport function Panel(props: {\r\n    name: string,\r\n    elements: Array<PanelItem>,\r\n    style: string,\r\n    view: string,\r\n    setView: (view: string) => void,\r\n}) {\r\n\r\n    let PanelElements: Array<JSX.Element> = props.elements.map(function (element, index) {\r\n        return <div key={uuid()} className={styles.elementWrap} style={element.style}>\r\n            <img className={styles.panelImage} src={element.image} />\r\n            <div className={styles.PanleText}>{element.name}</div>\r\n        </div>\r\n    })\r\n\r\n    PanelElements = PanelElements.reverse()\r\n\r\n    return (\r\n        <div className={styles.wrap + ' ' + props.style + ' ' + props.view}>\r\n            <div className={styles.line}>\r\n                <h3 className={styles.header}>\r\n                    {props.name}\r\n                </h3>\r\n                <img className={styles.image} src=\"images/close.png\" onClick={() => { props.setView(styles.viewOff) }} />\r\n            </div>\r\n            <div className={styles.elementsWrap}>\r\n                {PanelElements}\r\n            </div>\r\n        </div>\r\n    )\r\n}","import { Ellipse, Figure, Image, Rectangle, Text, Triangle } from \"./types\"\r\n\r\nexport function isImage(element: any): element is Image {\r\n    return (element as Image).url !== undefined && (element as Image).size !== undefined\r\n}\r\n\r\nexport function isText(element: any): element is Text {\r\n    return (element as Text).font !== undefined && (element as Text).color !== undefined && (element as Text).str !== undefined && (element as Text).fontSize !== undefined\r\n}\r\n\r\nexport function isFigure(element: any): element is Figure {\r\n    return (element as Figure).color !== undefined && (element as Figure).figure !== undefined\r\n}\r\n\r\nexport function isTriangle(figure: any): figure is Triangle {\r\n    return (figure as Triangle).firstPoint !== undefined && (figure as Triangle).secondPoint !== undefined && (figure as Triangle).thirdPoint !== undefined\r\n}\r\n\r\nexport function isRectangle(figure: any): figure is Rectangle {\r\n    return (figure as Rectangle).size !== undefined\r\n}\r\n\r\nexport function isEllipse(figure: any): figure is Ellipse {\r\n    return (figure as Ellipse).rx !== undefined && (figure as Ellipse).ry !== undefined\r\n}\r\n","import { Element } from \"../../utils/types\"\r\n\r\nexport interface SetElementAction {\r\n    type: string,\r\n    element: Element\r\n}\r\n\r\nexport default function elementReducers(state = {} as Element | null, action: SetElementAction): Element | null {\r\n    switch (action.type) {\r\n        case 'SET_SELECT_ELEMENT': {\r\n            return action.element\r\n        } \r\n        default: {\r\n            return state\r\n        }\r\n    }\r\n}","import { Canvas, Element, Size } from \"../../utils/types\"\r\nimport elementReducers, { SetElementAction } from \"./ElementReducers\"\r\nimport elementsReducers, { elementsActions } from \"./ElementsRedusers\"\r\n\r\ninterface SetSize {\r\n    type: string,\r\n    size: Size\r\n}\r\ninterface SetColor {\r\n    type: string,\r\n    color: string\r\n}\r\ninterface AddImage {\r\n    type: string,\r\n    url: string,\r\n    size: Size\r\n}\r\n\r\nexport default function canvasReducers(state = {} as Canvas, action: elementsActions): Canvas {\r\n    const arrayElement: Array<Element> = elementsReducers(state, action as elementsActions)\r\n    return {\r\n        size: sizeCanvas(state.size, action as (SetSize | AddImage)),\r\n        selectElement: isSetElementAction(action) ? elementReducers(state.selectElement, action as SetElementAction) : getSelectElement(arrayElement, state.selectElement),\r\n        background: backgroundCanvas(state.background, action as SetColor),\r\n        elements: arrayElement\r\n    }\r\n}\r\n\r\nconst sizeCanvas = (state: Size, action: SetSize | AddImage): Size => {\r\n    switch (action.type) {\r\n        case 'SET_SIZE_CANVAS':\r\n            return action.size  \r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nconst backgroundCanvas = (state: string, action: SetColor): string => {\r\n    switch (action.type) {\r\n        case 'SET_BACKGROUND_COLOR':\r\n            return action.color\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nfunction isSetElementAction(action: any): action is SetElementAction {\r\n    return action.type !== undefined && action.element !== undefined\r\n}\r\n\r\nexport function getSelectElement(elements: Array<Element>, selectElement: Element | null): Element | null {\r\n    const newSelectElement: Element | undefined = elements.find(element => \r\n        (selectElement !== null && selectElement.id == element.id)\r\n    )\r\n    return newSelectElement || null\r\n}","import { uuid } from \"uuidv4\"\r\nimport { isEllipse, isFigure, isImage, isRectangle, isText, isTriangle } from \"../../utils/typeGuards\"\r\nimport { Canvas, Element, Point, Size } from \"../../utils/types\"\r\n\r\ninterface AddAndDeleteElementAction {\r\n    type: string\r\n}\r\ninterface AddImage {\r\n    type: string,\r\n    size: Size,\r\n    url: string\r\n}\r\ninterface SetCentre {\r\n    type: string,\r\n    centre: Point\r\n}\r\ninterface SetColor {\r\n    type: string,\r\n    color: string\r\n}\r\ninterface ResizeTriangle {\r\n    type: string,\r\n    centre: Point,\r\n    points: {\r\n        firstPoint: Point,\r\n        secondPoint: Point,\r\n        thirdPoint: Point\r\n    }\r\n}\r\ninterface ResizeFigure {\r\n    type: string,\r\n    centre: Point,\r\n    size: Size\r\n}\r\ninterface SetFont {\r\n    type: string,\r\n    font: string\r\n}\r\ninterface ChangeText {\r\n    type: string,\r\n    str: string\r\n}\r\ninterface SetSize {\r\n    type: string,\r\n    size: number\r\n}\r\n\r\nexport type elementsActions = AddAndDeleteElementAction | AddImage | SetCentre | SetColor | ResizeTriangle | ResizeFigure | SetFont | ChangeText | SetSize\r\n\r\nexport default function elementsReducers(state = {} as Canvas, action: any): Array<Element> {\r\n    let elements = state.elements\r\n    switch (action.type) {\r\n        case 'DELETE_SELECT_ELEMENT': {\r\n            return elements.filter(element => element !== state.selectElement)\r\n        }\r\n        case 'ADD_TRIANGLE': {\r\n            return elements.concat({\r\n                centre: { x: 100, y: 100 },\r\n                id: uuid(),\r\n                object: {\r\n                    color: '#888',\r\n                    figure: {\r\n                        firstPoint: { x: 100, y: 200 },\r\n                        secondPoint: { x: 150, y: 100 },\r\n                        thirdPoint: { x: 200, y: 200 }\r\n                    }\r\n                }\r\n            })\r\n        }\r\n        case 'ADD_RECTANGLE': {\r\n            return elements.concat({\r\n                centre: { x: 50, y: 50 },\r\n                id: uuid(),\r\n                object: {\r\n                    color: '#888',\r\n                    figure: {\r\n                        size: {\r\n                            width: 100,\r\n                            height: 75\r\n                        }\r\n                    }\r\n                }\r\n            })\r\n        }\r\n        case 'ADD_ELLIPSE': {\r\n            return elements.concat({\r\n                centre: { x: 150, y: 150 },\r\n                id: uuid(),\r\n                object: {\r\n                    color: '#888',\r\n                    figure: {\r\n                        rx: 50,\r\n                        ry: 50\r\n                    }\r\n                }\r\n            })\r\n        }\r\n        case 'ADD_IMAGE': {\r\n            return elements.concat({\r\n                centre: { x: 0, y: 0 },\r\n                id: uuid(),\r\n                object: {\r\n                    size: action.size,\r\n                    url: action.url\r\n                }\r\n            })\r\n        }\r\n        case 'ADD_TEXT': {\r\n            return elements.concat({\r\n                centre: { x: 30, y: 350 },\r\n                id: uuid(),\r\n                object: {\r\n                    fontSize: 20,\r\n                    font: 'Time New Roman',\r\n                    color: '#000',\r\n                    str: 'Введите свой текст'\r\n                }\r\n            })\r\n        }\r\n    }\r\n    return elements.map(element => {\r\n        if (element === state.selectElement) {\r\n            switch (action.type) {\r\n                case 'SET_CENTRE_ELEMENT': {\r\n                    return {\r\n                        ...element,\r\n                        centre: action.centre\r\n                    }\r\n                }\r\n                case 'SET_COLOR_FIGURE': {\r\n                    if (isFigure(element.object)) {\r\n                        return {\r\n                            ...element,\r\n                            object: {\r\n                                ...element.object,\r\n                                color: action.color\r\n                            }\r\n                        }\r\n                    }\r\n                    return element\r\n                }\r\n                case 'RESIZE_TRIANGLE': {\r\n                    if (isFigure(element.object) && isTriangle(element.object.figure)) {\r\n                        return {\r\n                            ...element,\r\n                            centre: action.centre,\r\n                            object: {\r\n                                ...element.object,\r\n                                figure: {\r\n                                    firstPoint: action.points.firstPoint, \r\n                                    secondPoint: action.points.secondPoint, \r\n                                    thirdPoint: action.points.thirdPoint\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                    return element\r\n                }\r\n                case 'RESIZE_RECTANGLE': {\r\n                    if (isFigure(element.object) && isRectangle(element.object.figure)) {\r\n                        return {\r\n                            ...element,\r\n                            centre: action.centre,\r\n                            object: {\r\n                                ...element.object,\r\n                                figure: {\r\n                                    size: action.size\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                    return element\r\n                }\r\n                case 'RESIZE_ELLIPSE': {\r\n                    if (isFigure(element.object) && isEllipse(element.object.figure)) {\r\n                        return {\r\n                            ...element,\r\n                            centre: action.centre,\r\n                            object: {\r\n                                ...element.object,\r\n                                figure: {\r\n                                    rx: action.size.width / 2,\r\n                                    ry: action.size.height / 2,\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                    return element\r\n                }\r\n                case 'RESIZE_IMAGE': {\r\n                    if (isImage(element.object)) {\r\n                        return {\r\n                            ...element,\r\n                            centre: action.centre,\r\n                            object: {\r\n                                ...element.object,\r\n                                size: action.size\r\n                            }\r\n                        }\r\n                    }\r\n                    return element\r\n                }\r\n                case 'SET_FONT_TEXT': {\r\n                    if (isText(element.object)) {\r\n                        return {\r\n                            ...element,\r\n                            object: {\r\n                                ...element.object,\r\n                                font: action.font\r\n                            }\r\n                        }\r\n                    }\r\n                    return element\r\n                }\r\n                case 'SET_COLOR_TEXT': {\r\n                    if (isText(element.object)) {\r\n                        return {\r\n                            ...element,\r\n                            object: {\r\n                                ...element.object,\r\n                                color: action.color\r\n                            }\r\n                        }\r\n                    }\r\n                    return element\r\n                }\r\n                case 'CHANGE_TEXT': {\r\n                    if (isText(element.object)) {\r\n                        return {\r\n                            ...element,\r\n                            object: {\r\n                                ...element.object,\r\n                                str: action.str\r\n                            }\r\n                        }\r\n                    }\r\n                    return element\r\n                }\r\n                case 'SET_SIZE_TEXT': {\r\n                    if (isText(element.object)) {\r\n                        return {\r\n                            ...element,\r\n                            object: {\r\n                                ...element.object,\r\n                                fontSize: action.size\r\n                            }\r\n                        }\r\n                    }\r\n                    return element\r\n                }\r\n                default: {\r\n                    return element\r\n                }\r\n            }\r\n        }\r\n        return element\r\n    })\r\n}","import { Canvas, Card, Stack } from \"../../utils/types\"\r\nimport canvasReducers from \"./CanvasReducers\"\r\n\r\ninterface AddJSON {\r\n    type: string,\r\n    canvas: Canvas\r\n}\r\n\r\n\r\nexport default function cardReducers(state = {} as Card, action: any): Card {\r\n    const history = state.history\r\n    let stack: Stack | undefined\r\n    let canvas: Canvas\r\n    switch (action.type) {\r\n        case 'UNDO':\r\n            stack = history.undo.pop()\r\n            { stack !== undefined && pushStack(history.redo, stack) }\r\n            canvas = history.undo[history.undo.length - 1].canvas\r\n            return {\r\n                canvas: {\r\n                    ...canvas,\r\n                    selectElement: null\r\n                },\r\n                history: history\r\n            }\r\n        case 'REDO':\r\n            stack = history.redo.pop()\r\n            { stack !== undefined && pushStack(history.undo, stack) }\r\n            canvas = history.undo[history.undo.length - 1].canvas\r\n            return {\r\n                canvas: {\r\n                    ...canvas,\r\n                    selectElement: null\r\n                },\r\n                history: history\r\n            }\r\n        case 'INITIAL_CARD': {\r\n            return {\r\n                canvas: {\r\n                    size: { width: 800, height: 600 },\r\n                    selectElement: null,\r\n                    background: '#FFF',\r\n                    elements: []\r\n                },\r\n                history: {\r\n                    undo: [{ \r\n                        canvas: {\r\n                            size: { width: 800, height: 600 },\r\n                            selectElement: null,\r\n                            background: '#FFF',\r\n                            elements: []\r\n                        }, \r\n                        name: 'New Template', \r\n                        image: 'images/square.png' }],\r\n                    redo: []\r\n            \r\n                }\r\n            }\r\n        }\r\n        case 'ADD_JSON': {\r\n            if (isAddJSONAction(action)) {\r\n                return {\r\n                    canvas: action.canvas,\r\n                    history: {\r\n                        undo: [{ \r\n                            canvas: action.canvas, \r\n                            name: 'New Template', \r\n                            image: 'images/square.png' }],\r\n                        redo: []\r\n                \r\n                    }\r\n                }\r\n            }\r\n            return state\r\n        }\r\n        default: {\r\n            canvas = canvasReducers(state.canvas, action)\r\n            if (action.type !== 'SET_SELECT_ELEMENT' && action.type !== 'DELETE_SELECT_ELEMENT') {\r\n                pushStack(history.undo, {\r\n                    canvas: canvas,\r\n                    name: getNameAndImageAction(action.type).name,\r\n                    image: getNameAndImageAction(action.type).imageUrl\r\n                })\r\n            }\r\n            return {\r\n                canvas: canvas,\r\n                history: history\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nconst maxStackValue: number = 500\r\n\r\nfunction pushStack(stack: Array<Stack>, data: { canvas: Canvas, name: string, image: string }): void {\r\n    if (stack.length > maxStackValue) {\r\n        stack.shift()\r\n    }\r\n    stack.push({\r\n        canvas: data.canvas,\r\n        name: data.name,\r\n        image: data.image,\r\n    })\r\n}\r\n\r\nfunction getNameAndImageAction(actionName: string): { name: string, imageUrl: string } {\r\n    switch (actionName) {\r\n        case 'INITIAL_CARD': {\r\n            return { name: 'New Template', imageUrl: 'images/square.png' }\r\n        }\r\n        case 'SET_SIZE_CANVAS': {\r\n            return { name: 'Resize Template', imageUrl: 'images/square.png' }\r\n        }\r\n        case 'SET_BACKGROUND_COLOR': {\r\n            return { name: 'Background Color', imageUrl: 'images/square.png' }\r\n        }\r\n        case 'SET_CENTRE_ELEMENT': {\r\n            return { name: 'Change Position', imageUrl: 'images/move.png' }\r\n        }\r\n        case 'DELETE_SELECT_ELEMENT': {\r\n            return { name: 'Delete Element', imageUrl: 'images/square.png' }\r\n        }\r\n        case 'SET_COLOR_FIGURE': {\r\n            return { name: 'Fill Color', imageUrl: 'images/square.png' }\r\n        }\r\n        case 'ADD_TRIANGLE': {\r\n            return { name: 'New Shape', imageUrl: 'images/triangle.png' }\r\n        }\r\n        case 'RESIZE_TRIANGLE': {\r\n            return { name: 'Resize Graphic', imageUrl: 'images/triangle.png' }\r\n        }\r\n        case 'ADD_RECTANGLE': {\r\n            return { name: 'New Shape', imageUrl: 'images/square.png' }\r\n        }\r\n        case 'RESIZE_RECTANGLE': {\r\n            return { name: 'Resize Graphic', imageUrl: 'images/square.png' }\r\n        }\r\n        case 'ADD_ELLIPSE': {\r\n            return { name: 'New Shape', imageUrl: 'images/circle.png' }\r\n        }\r\n        case 'RESIZE_ELLIPSE': {\r\n            return { name: 'Resize Graphic', imageUrl: 'images/circle.png' }\r\n        }\r\n        case 'ADD_IMAGE': {\r\n            return { name: 'Add Image', imageUrl: 'images/image.png' }\r\n        }\r\n        case 'RESIZE_IMAGE': {\r\n            return { name: 'Resize Image', imageUrl: 'images/image.png' }\r\n        }\r\n        case 'ADD_TEXT': {\r\n            return { name: 'New Text', imageUrl: 'images/text__hover.png' }\r\n        }\r\n        case 'SET_FONT_TEXT': {\r\n            return { name: 'Font Family', imageUrl: 'images/text__hover.png' }\r\n        }\r\n        case 'SET_COLOR_TEXT': {\r\n            return { name: 'Text Color', imageUrl: 'images/text__hover.png' }\r\n        }\r\n        case 'CHANGE_TEXT': {\r\n            return { name: 'Edit Text', imageUrl: 'images/text__hover.png' }\r\n        }\r\n        case 'SET_SIZE_TEXT': {\r\n            return { name: 'Font Size', imageUrl: 'images/text__hover.png' }\r\n        }\r\n        default: {\r\n            return { name: 'New Template', imageUrl: 'images/square.png' }\r\n        }\r\n    }\r\n}\r\n\r\nfunction isAddJSONAction(action: any): action is AddJSON {\r\n    return action.type !== undefined && action.canvas !== undefined\r\n}","import { createStore } from \"redux\";\r\nimport { initialState } from \"./initalState\";\r\nimport CardReducers from \"./reducers/CardReducers\";\r\n\r\nexport const store = createStore(CardReducers, initialState)\r\n","import { Card } from \"../utils/types\";\r\n\r\nexport const initialState: Card = {\r\n    canvas: {\r\n        size: { width: 800, height: 600 },\r\n        selectElement: null,\r\n        background: '#FFF',\r\n        elements: []\r\n    },\r\n    history: {\r\n        undo: [],\r\n        redo: []\r\n\r\n    }\r\n}","import React, { useState } from 'react'\r\nimport styles from './CanvasTools.module.css'\r\nimport { ToolsButton } from './ToolsButton'\r\nimport { Panel } from './Panel/Panel'\r\nimport { Canvas, Figure, Stack } from '../../utils/types'\r\nimport { isEllipse, isFigure, isImage, isRectangle, isText, isTriangle } from '../../utils/typeGuards'\r\nimport { store } from '../../store/store'\r\nimport { redo, undo } from '../../store/actionCreators/HistoryActionCreators'\r\n\r\ninterface CanvasTools {\r\n    canvas: Canvas,\r\n    history: {\r\n        undo: Array<Stack>,\r\n        redo: Array<Stack>\r\n    },\r\n    setViewReset: (view: boolean) => void,\r\n}\r\n\r\nexport type PanelItem = {\r\n    image: string,\r\n    name: string,\r\n    style: React.CSSProperties\r\n}\r\n\r\nexport function CanvasTools(props: CanvasTools) {\r\n\r\n    const history: Array<PanelItem> = (() => {\r\n        let undo: Array<PanelItem> = props.history.undo.map(function (elem, index) {\r\n            return {\r\n                image: elem.image,\r\n                name: elem.name,\r\n                style: { background: (() => { return (index !== props.history.undo.length - 1) ? '2e313f' : '#36365f' })() }\r\n            }\r\n        })\r\n        let redo: Array<PanelItem> = props.history.redo.map(function (elem) {\r\n            return {\r\n                image: elem.image,\r\n                name: elem.name,\r\n                style: { opacity: 0.3 }\r\n            }\r\n        })\r\n        undo = undo.concat(redo.reverse())\r\n        return undo.reverse()\r\n    })()\r\n\r\n    const layers: Array<PanelItem> = (() => {\r\n        let elements: Array<PanelItem> = []\r\n        let shapeCount: number = 0\r\n        let imageCount: number = 0\r\n        let textCount: number = 0\r\n        for (let i = 0; i < props.canvas.elements.length; i++) {\r\n            let style: React.CSSProperties\r\n            if (props.canvas.elements[i] === props.canvas.selectElement) {\r\n                style = { background: '#36365f' }\r\n            } else {\r\n                style = { background: '#2e313f' }\r\n            }\r\n            const object = props.canvas.elements[i].object\r\n            if (isFigure(object)) {\r\n                const figure: Figure = object\r\n                if (isTriangle(figure.figure)) {\r\n                    shapeCount++\r\n                    elements.push(\r\n                        { name: 'Shape ' + shapeCount, image: 'images/triangle.png', style: style }\r\n                    )\r\n                }\r\n                if (isRectangle(figure.figure)) {\r\n                    shapeCount++\r\n                    elements.push(\r\n                        { name: 'Shape ' + shapeCount, image: 'images/square.png', style: style }\r\n                    )\r\n                }\r\n                if (isEllipse(figure.figure)) {\r\n                    shapeCount++\r\n                    elements.push(\r\n                        { name: 'Shape ' + shapeCount, image: 'images/circle.png', style: style }\r\n                    )\r\n                }\r\n            } else if (isImage(object)) {\r\n                imageCount++\r\n                elements.push(\r\n                    { name: 'Image ' + imageCount, image: 'images/image.png', style: style }\r\n                )\r\n            } else if (isText(object)) {\r\n                textCount++\r\n                elements.push(\r\n                    { name: 'Text ' + textCount, image: 'images/text__hover.png', style: style }\r\n                )\r\n            }\r\n        }\r\n        return elements.reverse()\r\n    })()\r\n\r\n    const [viewLayers, setViewLayers] = useState(styles.viewOff)\r\n    const [viewHistory, setViewHistory] = useState(styles.viewOff)\r\n    return (\r\n        <div className={styles.canvasTools}>\r\n            <ToolsButton block={(\r\n                () => {\r\n                    if (layers.length == 0) {\r\n                        return true\r\n                    }\r\n                    return false\r\n                }\r\n            )()} image={\"images/layers.png\"} name={\"Layers\"} onclick={() => {\r\n                if (viewLayers == styles.viewOff) {\r\n                    setViewLayers(styles.viewOn)\r\n                    return\r\n                }\r\n                setViewLayers(styles.viewOff)\r\n            }} />\r\n            {layers.length > 0 && <Panel style={styles.layers} name={'Layers'} elements={layers} view={viewLayers} setView={setViewLayers} />}\r\n            <div className={styles.toolButtons}>\r\n                <ToolsButton block={false} image={\"images/reset.png\"} name={\"Reset\"} onclick={() => { props.setViewReset(true) }} />\r\n                <ToolsButton\r\n                    block={(() => {\r\n                        if (props.history.undo.length <= 1) {\r\n                            return true\r\n                        }\r\n                        return false\r\n                    })()}\r\n                    image={\"images/undo.png\"} name={\"Undo\"} onclick={() => { store.dispatch(undo())  }} />\r\n                <ToolsButton\r\n                    block={(() => {\r\n                        if (props.history.redo.length == 0) {\r\n                            return true\r\n                        }\r\n                        return false\r\n                    })()}\r\n                    image={\"images/redo.png\"} name={\"Redo\"} onclick={() => { store.dispatch(redo()) }} />\r\n                <ToolsButton\r\n                    block={(() => {\r\n                        if (history.length == 0) {\r\n                            return true\r\n                        }\r\n                        return false\r\n                    })()}\r\n                    image={\"images/history.png\"} name={\"History\"}\r\n                    onclick={() => {\r\n                        if (viewHistory == styles.viewOff) {\r\n                            setViewHistory(styles.viewOn)\r\n                            return\r\n                        }\r\n                        setViewHistory(styles.viewOff)\r\n                    }} />\r\n                <Panel style={styles.history} name={'History'} elements={history} \r\n                    view={(() => {\r\n                        return history.length == 0 ? styles.viewOff : viewHistory\r\n                    })()} \r\n                    setView={setViewHistory} \r\n                />\r\n            </div>\r\n        </div>\r\n    )\r\n}","export function undo() {\r\n    return {\r\n        type: 'UNDO'\r\n    }\r\n}\r\n\r\nexport function redo() {\r\n    return {\r\n        type: 'REDO'\r\n    }\r\n}","import { useState, useEffect, useRef } from 'react'\r\n\r\nexport default function useComponentVisible(initialIsVisible: boolean) {\r\n    const [isComponentVisible, setIsComponentVisible] = useState(initialIsVisible)\r\n    const ref: any = useRef(null)\r\n\r\n    const handleClickOutside = (event: MouseEvent) => {\r\n        if (ref.current && !ref.current.contains(event.target as Node)) {\r\n            setIsComponentVisible(false)\r\n        } \r\n    };\r\n\r\n    useEffect(() => {\r\n        document.addEventListener('click', handleClickOutside, true)\r\n        return () => {\r\n            document.removeEventListener('click', handleClickOutside, true)\r\n        };\r\n    });\r\n\r\n    return { ref, isComponentVisible, setIsComponentVisible }\r\n}","import React from 'react'\r\nimport styles from './Popup.module.css'\r\n\r\ninterface PopupPropsType { \r\n    click: boolean,\r\n    children: React.ReactNode,\r\n    functional: string,\r\n    height: string \r\n}\r\n\r\nexport function Popup(props: PopupPropsType) {\r\n    const listStyle = () => {\r\n        if (props.click) {\r\n            return {\r\n                marginTop: '10px',\r\n                display: 'block',\r\n                transition: '0.3s',\r\n                height: props.height,\r\n            }\r\n        } else {\r\n            return {\r\n                marginTop: '-15px',\r\n                display: 'none',\r\n                transition: '0.3s',\r\n                height: props.height,\r\n            }\r\n        }\r\n    }\r\n    return (\r\n        <div className={styles.list} style={listStyle()}>\r\n           <div className={styles.functional}>\r\n               {props.functional}\r\n           </div>\r\n           <div className={styles.lists}>\r\n               {props.children}\r\n           </div>\r\n        </div>\r\n    )\r\n}","import React from 'react'\r\nimport useComponentVisible from '../../../customHooks/useComponentVisible'\r\nimport styles from './Menu.module.css'\r\nimport { Popup } from './Popup'\r\n\r\ninterface MenuPropsType {\r\n    name: string,\r\n    children: React.ReactNode,\r\n    functional: string,\r\n    height: string,\r\n}\r\n\r\nexport function Menu(props: MenuPropsType) {\r\n    const { ref, isComponentVisible, setIsComponentVisible } = useComponentVisible(false)\r\n\r\n    return (\r\n        <div ref={ref} onClick={() => { return isComponentVisible ? setIsComponentVisible(false) : setIsComponentVisible(true) }}>\r\n            <div className={styles.button}>\r\n                <div className={styles.text}>{props.name}</div>\r\n                <img className={styles.image} src=\"images/arrow_down.png\" />\r\n            </div>\r\n            <div>\r\n                <Popup click={isComponentVisible} functional={props.functional} height={props.height}>\r\n                    {props.children}\r\n                </Popup>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React from 'react'\r\nimport styles from './Logo.module.css'\r\n\r\n\r\nexport function Logo() {\r\n    return (\r\n        <div className={styles.logo}>\r\n            <img className={styles.svg} src=\"images/logo.svg\" />\r\n        </div>\r\n    )\r\n}","import { Canvas, Size } from \"../../utils/types\"\r\n\r\nexport function setSizeCanvas(size: Size) {\r\n    return {\r\n        type: 'SET_SIZE_CANVAS',\r\n        size: size\r\n    }\r\n}\r\n\r\nexport function setBackgroundColor(color: string) {\r\n    return {\r\n        type: 'SET_BACKGROUND_COLOR',\r\n        color: color\r\n    }\r\n}\r\n\r\nexport function addCanvasFromJSON(canvas: Canvas) {\r\n    return {\r\n        type: 'ADD_JSON',\r\n        canvas: canvas\r\n    }\r\n}\r\n","import React, { ChangeEvent, createRef, RefObject, useState } from 'react'\r\nimport { Menu } from './Menu/Menu'\r\nimport { Logo } from './Logo/Logo'\r\nimport styles from './NavigationBar.module.css'\r\nimport { store } from '../../store/store'\r\nimport { addCanvasFromJSON } from '../../store/actionCreators/CanvasActionCreators'\r\nimport { Canvas } from '../../utils/types'\r\n\r\ninterface StateHoverPanelType {\r\n    widthPanel: string,\r\n    workspaceMarginLeft: string,\r\n    widthEditor: string,\r\n    widthWorkspace: string,\r\n    hoverImage: boolean,\r\n    displayButtonText: string,\r\n    widthButton: string,\r\n}\r\n\r\ninterface NavigationBarPropsType {\r\n    stateHoverPanel: {\r\n        hoverPanel: StateHoverPanelType,\r\n        setHoverPanel: (hoverPanel: StateHoverPanelType) => void,\r\n    }\r\n    setViewEditor: (viewEditor: { view: boolean, state: string }) => void,\r\n    setViewSave: (view: boolean) => void,\r\n    setViewReset: (view: boolean) => void,\r\n    setSaveJSON: (view: boolean) => void,\r\n}\r\n\r\nexport function NavigationBar(props: NavigationBarPropsType) {\r\n    const refInput: RefObject<HTMLInputElement> = createRef()\r\n    return (\r\n        <div className={styles.navbar}>\r\n            <Logo />\r\n            <div className={styles.button__layout}>\r\n                <Menu name={'Open'} functional={'New Design'} height={'135px'}>\r\n                    <div className={styles.list_element} onClick={() => { props.setViewReset(true) }}>\r\n                        <img className={styles.list_image} src=\"images/blank_canvas.png\" />\r\n                        <div className={styles.list_text}>Blank Canvas</div>\r\n                    </div>\r\n                    <div className={styles.list_element} onClick={() => {\r\n                        props.setViewEditor({\r\n                            view: true,\r\n                            state: 'Templates'\r\n                        })\r\n                        props.stateHoverPanel.setHoverPanel({\r\n                            ...props.stateHoverPanel.hoverPanel,\r\n                            widthEditor: '260px',\r\n                            widthWorkspace: 'calc(100% - 55px)',\r\n                        })\r\n                    }}>\r\n                        <img className={styles.list_image} src=\"images/template__hover.png\" />\r\n                        <div className={styles.list_text}>Template</div>\r\n                    </div>\r\n                    <label className={styles.list_element} htmlFor=\"fileJSON\">\r\n                        <img className={styles.list_image} src=\"images/json.png\" />\r\n                        <div className={styles.list_text}>Open JSON</div>\r\n                    </label>\r\n                    <input ref={refInput} id=\"fileJSON\" style={{ display: 'none' }} type=\"file\" accept='application/JSON' onChange={\r\n                        async (event: ChangeEvent<HTMLInputElement>) => {\r\n                            if (event.currentTarget.files) {\r\n                                let input = refInput.current\r\n                                function getCanvas(): Promise<Canvas> {\r\n                                    return new Promise((resolve, reject) => {\r\n                                        let canvas = store.getState().canvas\r\n                                        if (input !== null && input.files !== null) {\r\n                                            let file_to_read = input.files[0]\r\n                                            console.log(file_to_read)\r\n                                            var fileread = new FileReader()\r\n                                            fileread.onload = function (e) {\r\n                                                if (e.target !== null) {\r\n                                                    var content: any = e.target.result\r\n                                                    if (content !== null) {\r\n                                                        canvas = JSON.parse(content)\r\n                                                        resolve(canvas)\r\n                                                    }\r\n                                                }\r\n                                                fileread.onerror = () => reject()\r\n                                            }\r\n                                            fileread.readAsText(file_to_read)\r\n                                        }\r\n                                    })\r\n                                }\r\n                                store.dispatch(addCanvasFromJSON(await getCanvas()))\r\n                                event.target.value = \"\"\r\n                            }\r\n                        }} />\r\n                </Menu>\r\n                <Menu name={'Save'} functional={'Save as'} height={'102px'} >\r\n                    <div className={styles.list_element} onClick={() => { props.setViewSave(true) }} >\r\n                        <img className={styles.list_image} src=\"images/computer.png\" />\r\n                        <div className={styles.list_text}>Computer</div>\r\n                    </div>\r\n                    <div className={styles.list_element} onClick={() => { props.setSaveJSON(true) }} >\r\n                        <img className={styles.list_image} src=\"images/json.png\" />\r\n                        <div className={styles.list_text}>JSON</div>\r\n                    </div>\r\n                </Menu>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React from 'react'\r\nimport styles from './Button.module.css'\r\n\r\ninterface HoverPanelType {\r\n    widthPanel: string,\r\n    workspaceMarginLeft: string,\r\n    widthEditor: string,\r\n    widthWorkspace: string,\r\n    hoverImage: boolean,\r\n    displayButtonText: string,\r\n    widthButton: string,\r\n}\r\n\r\ninterface ButtonPropsType {\r\n    name: string,\r\n    imageName: string,\r\n    stateHoverPanel: {\r\n        hoverPanel: HoverPanelType,\r\n        setHoverPanel: (hoverPanel: HoverPanelType) => void,\r\n    }\r\n    stateViewEditor: {\r\n        viewEditor: {\r\n            view: boolean,\r\n            state: string,\r\n        },\r\n        setViewEditor: (viewEditor: { view: boolean, state: string }) => void,\r\n    }\r\n}\r\n\r\nexport function Button(props: ButtonPropsType) {\r\n    const imageVal = () => { return props.stateHoverPanel.hoverPanel.hoverImage ? '__hover.png)' : '.png)' }\r\n    const imageStyle = {\r\n        backgroundImage: 'url(images/' + props.imageName + imageVal(),\r\n    }\r\n    return (\r\n        <div\r\n            className={styles.button}\r\n            style={{ width: props.stateHoverPanel.hoverPanel.widthButton }}\r\n            onClick={() => {\r\n                if (props.stateViewEditor.viewEditor.view && props.stateViewEditor.viewEditor.state == props.name) {\r\n                    props.stateViewEditor.setViewEditor({\r\n                        view: false,\r\n                        state: ''\r\n                    })\r\n                    props.stateHoverPanel.setHoverPanel({\r\n                        ...props.stateHoverPanel.hoverPanel,\r\n                        widthEditor: '0',\r\n                        widthWorkspace: 'calc(100% - 55px)',\r\n                    })\r\n                } else {\r\n                    props.stateViewEditor.setViewEditor({\r\n                        view: true,\r\n                        state: props.name\r\n                    })\r\n                    props.stateHoverPanel.setHoverPanel({\r\n                        ...props.stateHoverPanel.hoverPanel,\r\n                        widthEditor: '260px',\r\n                        widthWorkspace: 'calc(100% - 55px)',\r\n                    })\r\n                }\r\n            }}\r\n        >\r\n            <div style={imageStyle} className={styles.button_image}></div>\r\n            <span\r\n                className={styles.button_name}\r\n                style={{ display: props.stateHoverPanel.hoverPanel.displayButtonText }}\r\n            >{props.name}</span>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n\r\n\r\n\r\n","import React from 'react'\r\nimport { Button } from './Button/Button'\r\nimport styles from './PrimaryPanel.module.css'\r\n\r\ninterface StateHoverPanelType {\r\n    widthPanel: string,\r\n    workspaceMarginLeft: string,\r\n    widthEditor: string,\r\n    widthWorkspace: string,\r\n    hoverImage: boolean,\r\n    displayButtonText: string,\r\n    widthButton: string,\r\n}\r\n\r\ninterface PrimaryPanelPropsType {\r\n    stateHoverPanel: {\r\n        hoverPanel: StateHoverPanelType,\r\n        setHoverPanel: (hoverPanel: StateHoverPanelType) => void,\r\n    },\r\n    stateViewEditor: {\r\n        viewEditor: { view: boolean, state: string },\r\n        setViewEditor: (viewEditor: { view: boolean, state: string }) => void,\r\n    }\r\n}\r\n\r\nconst buttons = [\r\n    { name: 'Image Manager', imageName: 'picture' },\r\n    { name: 'Customize', imageName: 'customize' },\r\n    { name: 'Templates', imageName: 'template' },\r\n    { name: 'Graphics', imageName: 'figures' },\r\n    { name: 'Stickers', imageName: 'art' },\r\n    { name: 'Text', imageName: 'text' },\r\n]\r\n\r\nexport function PrimaryPanel(props: PrimaryPanelPropsType) {\r\n    const mouseOutHandler = () => {\r\n        props.stateHoverPanel.setHoverPanel({\r\n            widthPanel: '55px',\r\n            workspaceMarginLeft: '0',\r\n            widthEditor: props.stateHoverPanel.hoverPanel.widthEditor,\r\n            widthWorkspace: props.stateHoverPanel.hoverPanel.widthWorkspace,\r\n            hoverImage: false,\r\n            displayButtonText: 'none',\r\n            widthButton: '44px',\r\n        })\r\n    }\r\n\r\n    const mouseOverHandler = () => {\r\n        props.stateHoverPanel.setHoverPanel({\r\n            widthPanel: '175px',\r\n            workspaceMarginLeft: '-120px',\r\n            widthEditor: props.stateHoverPanel.hoverPanel.widthEditor,\r\n            widthWorkspace: props.stateHoverPanel.hoverPanel.widthWorkspace,\r\n            hoverImage: true,\r\n            displayButtonText: 'block',\r\n            widthButton: '162px',\r\n        })\r\n    }\r\n    const Buttons = buttons.map(function (button, index) {\r\n        return <Button\r\n            key={index}\r\n            name={button.name}\r\n            imageName={button.imageName}\r\n            stateHoverPanel={{\r\n                hoverPanel: props.stateHoverPanel.hoverPanel,\r\n                setHoverPanel: props.stateHoverPanel.setHoverPanel\r\n            }}\r\n            stateViewEditor={{\r\n                viewEditor: {\r\n                    view: props.stateViewEditor.viewEditor.view,\r\n                    state: props.stateViewEditor.viewEditor.state\r\n                },\r\n                setViewEditor: props.stateViewEditor.setViewEditor\r\n            }}\r\n        />\r\n    })\r\n    return (\r\n        <div className={styles.panel}\r\n            style={{ width: props.stateHoverPanel.hoverPanel.widthPanel }}\r\n            onMouseOut={mouseOutHandler}\r\n            onMouseOver={mouseOverHandler}\r\n        >\r\n            {Buttons}\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n\r\n\r\n\r\n","import React, { RefObject } from 'react'\r\nimport { isText } from '../../../../utils/typeGuards'\r\nimport { Element } from '../../../../utils/types'\r\nimport styles from './SelectElement.module.css'\r\n\r\ninterface pointsSelectElement {\r\n    border: {x: number, y: number},\r\n    pointTopLeft: {x: number, y: number},\r\n    pointTopRight: {x: number, y: number},\r\n    pointBottomLeft: {x: number, y: number},\r\n    pointBottomRight: {x: number, y: number},\r\n    blockTop: {x: number, y: number},\r\n    blockLeft: {x: number, y: number},\r\n    blockRight: {x: number, y: number},\r\n    blockBottom: {x: number, y: number}\r\n}\r\n\r\ninterface SelectElementPropsType {\r\n    selectElement: Element | null,\r\n    setViewEditor: (viewEditor: { view: boolean, state: string }) => void,\r\n    setViewInput: (view: boolean) => void,\r\n    statePointsSelectElement: {\r\n        positionPoints: pointsSelectElement,\r\n        setPositionPoints: (points: pointsSelectElement) => void,\r\n    }\r\n    size: {width: number, height: number}\r\n    refs: Array<RefObject<HTMLDivElement>>,\r\n}\r\n\r\nexport function SelectElement(props: SelectElementPropsType) {\r\n    return (\r\n        <>\r\n            // boreder Top\r\n            <foreignObject \r\n                x={props.statePointsSelectElement.positionPoints.border.x - 2 - 7.5} \r\n                y={props.statePointsSelectElement.positionPoints.border.y - 2 - 7.5} \r\n                width={props.size.width + 20} height={1}\r\n            >\r\n                <div className={styles.border} style={{ width: props.size.width + 20, height: 1 }}></div>\r\n            </foreignObject>\r\n            \r\n            //border Left\r\n            <foreignObject \r\n                x={props.statePointsSelectElement.positionPoints.border.x - 2 - 7.5} \r\n                y={props.statePointsSelectElement.positionPoints.border.y - 2 - 7.5} \r\n                width={1} height={props.size.height + 20}\r\n            >\r\n                <div className={styles.border} style={{ width: 1, height: props.size.height + 20 }}></div>\r\n            </foreignObject>\r\n\r\n            // border Right\r\n            <foreignObject \r\n                x={props.statePointsSelectElement.positionPoints.border.x + props.size.width + 9.5} \r\n                y={props.statePointsSelectElement.positionPoints.border.y - 2 - 7.5} \r\n                width={1} height={props.size.height + 20}\r\n            >\r\n                <div className={styles.border} style={{ width: 1, height: props.size.height + 20 }}></div>\r\n            </foreignObject>\r\n\r\n            // border Bottom\r\n            <foreignObject \r\n                x={props.statePointsSelectElement.positionPoints.border.x - 2 - 7.5} \r\n                y={props.statePointsSelectElement.positionPoints.border.y + props.size.height + 9.5} \r\n                width={props.size.width + 20} height={1}\r\n            >\r\n                <div className={styles.border} style={{ width: props.size.width + 20, height: 1 }}></div>\r\n            </foreignObject>\r\n            {(props.selectElement && !isText(props.selectElement.object)) && <>\r\n                <foreignObject \r\n                    x={props.statePointsSelectElement.positionPoints.pointTopLeft.x - 15} \r\n                    y={props.statePointsSelectElement.positionPoints.pointTopLeft.y - 15} \r\n                    width={13} height={13}\r\n                >\r\n                    <div ref={props.refs[0]} className={styles.point + ' ' + styles.pointTopLeft}></div>\r\n                </foreignObject>\r\n                <foreignObject \r\n                    x={props.statePointsSelectElement.positionPoints.pointBottomLeft.x - 15} \r\n                    y={props.statePointsSelectElement.positionPoints.pointBottomLeft.y + props.size.height + 3} \r\n                    width={13} height={13}>\r\n                    <div ref={props.refs[2]} className={styles.point + ' ' + styles.pointBottomLeft}></div>\r\n                </foreignObject>\r\n                <foreignObject \r\n                    x={props.statePointsSelectElement.positionPoints.pointBottomRight.x + props.size.width + 3} \r\n                    y={props.statePointsSelectElement.positionPoints.pointBottomRight.y + props.size.height + 3} \r\n                    width={13} height={13}>\r\n                    <div ref={props.refs[3]} className={styles.point + ' ' + styles.pointBottomRight}></div>\r\n                </foreignObject>\r\n                <foreignObject \r\n                    x={props.statePointsSelectElement.positionPoints.pointTopRight.x + props.size.width + 3} \r\n                    y={props.statePointsSelectElement.positionPoints.pointTopRight.y - 15} \r\n                    width={13} height={13}>\r\n                    <div ref={props.refs[1]} className={styles.point + ' ' + styles.pointTopRight}></div>\r\n                </foreignObject>\r\n                <foreignObject \r\n                    x={props.statePointsSelectElement.positionPoints.blockTop.x + props.size.width / 2 + 11.5 - 20} \r\n                    y={props.statePointsSelectElement.positionPoints.blockTop.y - 12} \r\n                    width={20} height={6}>\r\n                    <div ref={props.refs[4]} className={styles.block + ' ' + styles.blockTop}></div>\r\n                </foreignObject>\r\n                <foreignObject \r\n                    x={props.statePointsSelectElement.positionPoints.blockRight.x + props.size.width + 6} \r\n                    y={props.statePointsSelectElement.positionPoints.blockRight.y + props.size.height / 2 + 11.5 - 20} \r\n                    width={6} height={20}>\r\n                    <div ref={props.refs[6]} className={styles.block + ' ' + styles.blockRight}></div>\r\n                </foreignObject>\r\n                <foreignObject \r\n                    x={props.statePointsSelectElement.positionPoints.blockLeft.x - 12} \r\n                    y={props.statePointsSelectElement.positionPoints.blockLeft.y + props.size.height / 2 + 11.5 - 20} \r\n                    width={6} height={20}>\r\n                    <div ref={props.refs[5]} className={styles.block + ' ' + styles.blockLeft}></div>\r\n                </foreignObject>\r\n                <foreignObject \r\n                    x={props.statePointsSelectElement.positionPoints.blockBottom.x + props.size.width / 2 + 11.5 - 20} \r\n                    y={props.statePointsSelectElement.positionPoints.blockBottom.y + props.size.height + 6} \r\n                    width={20} height={6}>\r\n                    <div ref={props.refs[7]} className={styles.block + ' ' + styles.blockBottom}></div>\r\n                </foreignObject>\r\n            </>}\r\n        </>\r\n    )\r\n}\r\n","import { Element, Point } from \"../../utils/types\"\r\n\r\nexport function setCentreElement(centre: Point) {\r\n    return {\r\n        type: 'SET_CENTRE_ELEMENT',\r\n        centre: centre\r\n    }\r\n}\r\n\r\nexport function setSelectElement(element: Element | null) {\r\n    return {\r\n        type: 'SET_SELECT_ELEMENT',\r\n        element: element\r\n    }\r\n}\r\n\r\nexport function deleteSelectElement() {\r\n    return {\r\n        type: 'DELETE_SELECT_ELEMENT'\r\n    }\r\n}","export function addText() {\r\n    return {\r\n        type: 'ADD_TEXT'\r\n    }\r\n}\r\n\r\nexport function changeText(str: string) {\r\n    return {\r\n        type: 'CHANGE_TEXT',\r\n        str: str\r\n    }\r\n}\r\n\r\nexport function setFontText(font: string) {\r\n    return {\r\n        type: 'SET_FONT_TEXT',\r\n        font: font\r\n    }\r\n}\r\n\r\nexport function setColorText(color: string) {\r\n    return {\r\n        type: 'SET_COLOR_TEXT',\r\n        color: color\r\n    }\r\n}\r\n\r\nexport function setSizeText(size: number) {\r\n    return {\r\n        type: 'SET_SIZE_TEXT',\r\n        size: size\r\n    }\r\n}","import React, { MutableRefObject } from 'react'\r\nimport { setSelectElement } from '../../../../store/actionCreators/ElementsActionCreators'\r\nimport { changeText } from '../../../../store/actionCreators/TextActionCreators'\r\nimport { store } from '../../../../store/store'\r\nimport { isText } from '../../../../utils/typeGuards'\r\nimport { Element } from '../../../../utils/types'\r\nimport styles from './InputText.module.css'\r\n\r\ninterface InputTextPropsType {\r\n    selectElement: Element | null,\r\n    positionSelectElement: {x: number, y: number},\r\n    refInputText: MutableRefObject<HTMLInputElement | null>,\r\n    setViewEditor: (viewEditor: { view: boolean, state: string }) => void,\r\n    stateViewInput: {\r\n        viewInput: boolean,\r\n        setViewInput: (view: boolean) => void,\r\n    },\r\n    stateInputValue: {\r\n        inputValue: string,\r\n        setInputValue: (value: string) => void,\r\n    },\r\n    stateSize: {\r\n        size: {width: number, height: number},\r\n        setSize: (size: {width: number, height: number}) => void,\r\n    }\r\n}\r\n\r\nexport function InputText(props: InputTextPropsType) {\r\n    const str: string = (() => {\r\n        if (props.selectElement && isText(props.selectElement.object)) {\r\n            return props.selectElement.object.str\r\n        }\r\n        props.stateViewInput.setViewInput(false)\r\n        return ''\r\n    })()\r\n\r\n    function handleChange(event: React.ChangeEvent<HTMLInputElement>) {\r\n        props.stateInputValue.setInputValue(event.target.value)\r\n    }\r\n\r\n    // const escFunction = (event: KeyboardEvent) => {\r\n    //     if (event.keyCode === 13) {\r\n    //         {props.refInputText.current && props.refInputText.current.blur() }\r\n    //         props.setViewEditor({view: true, state: 'Text'})\r\n    //     }\r\n    // }\r\n\r\n    // useEffect(() => {\r\n    //     document.addEventListener(\"keydown\", escFunction)\r\n    //     return () => {\r\n    //         document.removeEventListener(\"keydown\", escFunction)\r\n    //     }\r\n    // }, [])\r\n\r\n    return (\r\n        <foreignObject x={props.positionSelectElement.x - 20} y={props.positionSelectElement.y - 20}\r\n            style={{\r\n                width: props.stateSize.size.width + 40,\r\n                height: props.stateSize.size.height + 40\r\n            }}>\r\n            <input\r\n                ref={props.refInputText}\r\n                value={props.stateInputValue.inputValue}\r\n                className={styles.input}\r\n                type=\"text\"\r\n                style={{ \r\n                    width: props.stateSize.size.width + 40, \r\n                    height: props.stateSize.size.height + 40,\r\n                    fontSize: (() => {\r\n                        if (props.selectElement && isText(props.selectElement.object)) {\r\n                            return (props.selectElement.object.fontSize / 1.5)\r\n                        }\r\n                        return 10\r\n                    })()\r\n                }}\r\n                onBlur={() => {\r\n                    store.dispatch(changeText(props.stateInputValue.inputValue))\r\n                    store.dispatch(setSelectElement(null))\r\n                    props.stateViewInput.setViewInput(false)\r\n                    props.setViewEditor({view: true, state: 'Text'})\r\n                }}\r\n                onChange={handleChange}\r\n            />\r\n        </foreignObject>\r\n    )\r\n}","import { RefObject } from 'react'\r\nimport { isEllipse, isFigure, isImage, isRectangle, isText, isTriangle } from '../../../../utils/typeGuards'\r\nimport { Element, Ellipse, Figure, Image, Point, Rectangle, Size, Triangle } from '../../../../utils/types'\r\n\r\nexport function getCentreAndSizeOfElement(\r\n    selectElement: Element | null, \r\n    refText: RefObject<SVGRectElement | SVGEllipseElement | SVGPolygonElement | SVGTextElement | SVGImageElement | null> | null\r\n    ) {\r\n    let size: Size = { width: 0, height: 0 }\r\n    let centre: Point = { x: 30, y: 350 }\r\n    let type: string = ''\r\n    if (selectElement !== null && isFigure(selectElement.object)) {\r\n        const figure: Figure = selectElement.object\r\n        type = 'Figure'\r\n        if (isTriangle(figure.figure)) {\r\n            const triangle: Triangle = figure.figure\r\n            size = {\r\n                width: triangle.thirdPoint.x - triangle.firstPoint.x,\r\n                height: triangle.firstPoint.y - triangle.secondPoint.y\r\n            }\r\n            centre = {\r\n                x: triangle.firstPoint.x,\r\n                y: triangle.secondPoint.y\r\n            }\r\n        }\r\n        if (isRectangle(figure.figure)) {\r\n            const rectangle: Rectangle = figure.figure\r\n            size = {\r\n                width: rectangle.size.width,\r\n                height: rectangle.size.height\r\n            }\r\n            centre = {\r\n                x: selectElement.centre.x,\r\n                y: selectElement.centre.y\r\n            }\r\n        }\r\n        if (isEllipse(figure.figure)) {\r\n            const ellipse: Ellipse = figure.figure\r\n            size = {\r\n                width: 2 * ellipse.rx,\r\n                height: 2 * ellipse.ry\r\n            }\r\n            centre = {\r\n                x: selectElement.centre.x - ellipse.rx,\r\n                y: selectElement.centre.y - ellipse.ry\r\n            }\r\n        }\r\n    } else if (selectElement !== null && isImage(selectElement.object)) {\r\n        const image: Image = selectElement.object\r\n        size = {\r\n            width: image.size.width,\r\n            height: image.size.height\r\n        }\r\n        centre = {\r\n            x: selectElement.centre.x,\r\n            y: selectElement.centre.y\r\n        }\r\n    } else if (selectElement !== null && isText(selectElement.object)) {\r\n        type = 'Text'\r\n        const element: SVGRectElement | SVGEllipseElement | SVGPolygonElement | SVGTextElement | SVGImageElement | null = (() => {\r\n            return refText !== null ? refText.current : null\r\n        })()\r\n        if (element !== null) {\r\n            centre.x = selectElement.centre.x\r\n            centre.y = selectElement.centre.y\r\n            size.width = element.getBoundingClientRect().width\r\n            size.height = element.getBoundingClientRect().height\r\n        }\r\n    }\r\n    return {\r\n        centre: centre,\r\n        size: size,\r\n        type: type\r\n    }\r\n}","import { RefObject, useEffect } from \"react\"\r\nimport { pointsSelectElement } from \"../components/Workspace/Canvas/Elements/Elements\"\r\nimport { getCentreAndSizeOfElement } from \"../components/Workspace/Canvas/SelectElement/SelectElementFunction\"\r\nimport { setCentreElement, setSelectElement } from \"../store/actionCreators/ElementsActionCreators\"\r\nimport { store } from \"../store/store\"\r\nimport { isFigure, isText } from \"../utils/typeGuards\"\r\nimport { Element } from \"../utils/types\"\r\n\r\nexport function useDragAndDrop(\r\n  element: Element,\r\n  elementRef: RefObject<SVGRectElement | SVGEllipseElement | SVGPolygonElement | SVGTextElement | SVGImageElement | null>,\r\n  position: { x: number; y: number },\r\n  setPosition: (position: { x: number; y: number }) => void,\r\n  setPositionSelectElement: (points: pointsSelectElement) => void,\r\n  setViewEditor: (viewEditor: { view: boolean, state: string }) => void,\r\n  setSize: (size: { width: number, height: number }) => void,\r\n  isMoving: boolean,\r\n  setIsMoving: (isMoving: boolean) => void,\r\n) {\r\n  let startPos: { x: number; y: number } = position\r\n  let newPos: { x: number; y: number } = position\r\n\r\n  useEffect(() => {\r\n    if (!isMoving && position === newPos) {\r\n      setPosition(position)\r\n    }\r\n    if (elementRef.current !== null) {\r\n      elementRef.current.addEventListener(\"mousedown\", MouseDownListener)\r\n    }\r\n    return () => {\r\n      if (elementRef.current !== null) {\r\n        elementRef.current.removeEventListener(\"mousedown\", MouseDownListener)\r\n      }\r\n    }\r\n  })\r\n\r\n  const MouseDownListener = (e: any) => {\r\n    if (element !== null && isText(element.object)) {\r\n      const textPosition = { x: position.x, y: position.y - element.object.fontSize }\r\n      setPositionSelectElement({\r\n        border: textPosition,\r\n        pointTopLeft: textPosition,\r\n        pointTopRight: textPosition,\r\n        pointBottomLeft: textPosition,\r\n        pointBottomRight: textPosition,\r\n        blockTop: textPosition,\r\n        blockLeft: textPosition,\r\n        blockRight: textPosition,\r\n        blockBottom: textPosition\r\n      })\r\n      setSize(getCentreAndSizeOfElement(element, elementRef).size)\r\n      setViewEditor({ view: true, state: 'Text Properties' })\r\n    } else {\r\n      setPositionSelectElement({\r\n        border: position,\r\n        pointTopLeft: position,\r\n        pointTopRight: position,\r\n        pointBottomLeft: position,\r\n        pointBottomRight: position,\r\n        blockTop: position,\r\n        blockLeft: position,\r\n        blockRight: position,\r\n        blockBottom: position\r\n      })\r\n      setSize(getCentreAndSizeOfElement(element, null).size)\r\n      if (element !== null && isFigure(element.object)) {\r\n        setViewEditor({ view: true, state: 'Figure Properties' })\r\n      }\r\n    }\r\n    store.dispatch(setSelectElement(element))\r\n    startPos = {\r\n      x: e.pageX,\r\n      y: e.pageY,\r\n    }\r\n    document.addEventListener(\"mousemove\", MouseMoveListener)\r\n    document.addEventListener(\"mouseup\", MouseUpListener)\r\n  }\r\n\r\n  const MouseMoveListener = (e: any) => {\r\n    setIsMoving(true)\r\n    const delta = {\r\n      x: e.pageX - startPos.x,\r\n      y: e.pageY - startPos.y,\r\n    }\r\n    newPos = {\r\n      x: position.x + delta.x,\r\n      y: position.y + delta.y,\r\n    }\r\n    setPosition(newPos)\r\n    if (element !== null && isText(element.object)) {\r\n      const textPosition = { x: newPos.x, y: newPos.y - element.object.fontSize }\r\n      setPositionSelectElement({\r\n        border: textPosition,\r\n        pointTopLeft: textPosition,\r\n        pointTopRight: textPosition,\r\n        pointBottomLeft: textPosition,\r\n        pointBottomRight: textPosition,\r\n        blockTop: textPosition,\r\n        blockLeft: textPosition,\r\n        blockRight: textPosition,\r\n        blockBottom: textPosition\r\n      })\r\n    } else {\r\n      setPositionSelectElement({\r\n        border: newPos,\r\n        pointTopLeft: newPos,\r\n        pointTopRight: newPos,\r\n        pointBottomLeft: newPos,\r\n        pointBottomRight: newPos,\r\n        blockTop: newPos,\r\n        blockLeft: newPos,\r\n        blockRight: newPos,\r\n        blockBottom: newPos\r\n      })\r\n    }\r\n  }\r\n\r\n  const MouseUpListener = () => {\r\n    if (newPos !== position) {\r\n      store.dispatch(setCentreElement(newPos))\r\n    }\r\n    document.removeEventListener(\"mousemove\", MouseMoveListener)\r\n    document.removeEventListener(\"mouseup\", MouseUpListener)\r\n    setIsMoving(false)\r\n  }\r\n}","import { useEffect, RefObject, MutableRefObject } from 'react'\r\nimport { setSelectElement } from '../store/actionCreators/ElementsActionCreators'\r\nimport { store } from '../store/store'\r\nimport { isText } from '../utils/typeGuards'\r\nimport { Element } from '../utils/types'\r\n\r\nexport default function useObjectVisible(\r\n    ref: RefObject<SVGRectElement | SVGEllipseElement | SVGPolygonElement | SVGTextElement | SVGImageElement | null>,\r\n    element: Element,\r\n    selectElement: Element |null,\r\n    refEditor: RefObject<HTMLDivElement | null>,\r\n    refInputText: MutableRefObject<HTMLInputElement | null>,\r\n    viewEditor: { view: boolean, state: string },\r\n    setViewEditor: (viewEditor: { view: boolean, state: string }) => void,\r\n    viewInput: boolean,\r\n) {\r\n    const handleClickOutside = (event: MouseEvent) => {\r\n        if (\r\n            ref.current && !ref.current.contains(event.target as Node) && \r\n            refEditor.current && !refEditor.current.contains(event.target as Node) &&\r\n            element === selectElement\r\n        ) {\r\n            \r\n            if (viewEditor.state == 'Text Properties' || viewEditor.state == 'FontChoose') {\r\n                setViewEditor({ view: true, state: 'Text' })\r\n            }\r\n            if (viewEditor.state == 'Figure Properties') {\r\n                setViewEditor({ view: true, state: 'Graphics' })\r\n            }\r\n            if (!isText(selectElement.object)) {\r\n                store.dispatch(setSelectElement(null))\r\n            } else {\r\n                if (viewInput) {\r\n                    if (refInputText.current && !refInputText.current.contains(event.target as Node)) {\r\n                        store.dispatch(setSelectElement(null))\r\n                    }\r\n                } else {\r\n                    store.dispatch(setSelectElement(null))\r\n                }\r\n            }\r\n        }\r\n    }\r\n    useEffect(() => {\r\n        document.addEventListener('click', handleClickOutside, true)\r\n        return () => {\r\n            document.removeEventListener('click', handleClickOutside, true)\r\n        }\r\n    })\r\n}","import { Point, Size } from \"../../utils/types\"\r\n\r\nexport function setColorFigure(color: string) {\r\n    return {\r\n        type: 'SET_COLOR_FIGURE',\r\n        color: color\r\n    }\r\n}\r\n\r\nexport function addTriangle() {\r\n    return {\r\n        type: 'ADD_TRIANGLE'\r\n    }\r\n}\r\n\r\nexport function resizeTriangle(points: { firstPoint: Point, secondPoint: Point, thirdPoint: Point }, centre: Point) {\r\n    return {\r\n        type: 'RESIZE_TRIANGLE',\r\n        points: points,\r\n        centre: centre\r\n    }\r\n}\r\n\r\nexport function addRectangle() {\r\n    return {\r\n        type: 'ADD_RECTANGLE'\r\n    }\r\n}\r\n\r\nexport function resizeRectangle(size: Size, centre: Point) {\r\n    return {\r\n        type: 'RESIZE_RECTANGLE',\r\n        size: size,\r\n        centre: centre\r\n    }\r\n}\r\n\r\nexport function addEllipse() {\r\n    return {\r\n        type: 'ADD_ELLIPSE'\r\n    }\r\n}\r\n\r\nexport function resizeEllipse(size: Size, centre: Point) {\r\n    return {\r\n        type: 'RESIZE_ELLIPSE',\r\n        size: size,\r\n        centre: centre\r\n    }\r\n}","import { Point, Size } from \"../../utils/types\"\r\n\r\nexport function addImage(url: string, size: Size) {\r\n    return {\r\n        type: 'ADD_IMAGE',\r\n        url: url,\r\n        size: size\r\n    }\r\n}\r\n\r\nexport function resizeImage(size: Size, centre: Point) {\r\n    return {\r\n        type: 'RESIZE_IMAGE',\r\n        size: size,\r\n        centre: centre\r\n    }\r\n}","import { RefObject, useEffect } from \"react\"\r\nimport { pointsSelectElement } from \"../components/Workspace/Canvas/Elements/Elements\"\r\nimport { resizeEllipse, resizeRectangle, resizeTriangle } from \"../store/actionCreators/FigureActionCreators\"\r\nimport { resizeImage } from \"../store/actionCreators/ImageActionCreators\"\r\nimport { store } from \"../store/store\"\r\nimport { isEllipse, isFigure, isImage, isRectangle, isTriangle } from \"../utils/typeGuards\"\r\nimport { Element } from \"../utils/types\"\r\n\r\nexport function useResizeObject(\r\n  element: Element,\r\n  selectElement: Element | null,\r\n  elementRef: RefObject<HTMLDivElement | null>,\r\n  type: string,\r\n  initSize: {width: number, height: number},\r\n  position: { x: number; y: number },\r\n  setPosition: (position: { x: number; y: number }) => void,\r\n  setPositionSelectElement: (points: pointsSelectElement) => void,\r\n  stateSizeSelectElement: {\r\n      size: {width: number, height: number},\r\n      setSize: (size: {width: number, height: number}) => void,\r\n  },\r\n  setSize: (size: {width: number, height: number}) => void,\r\n  isMoving: boolean,\r\n  setIsMoving: (isMoving: boolean) => void,\r\n) {\r\n  let startPos: { x: number; y: number } = position\r\n  let newPos: { x: number; y: number } = position\r\n  let newSize = initSize\r\n\r\n  useEffect(() => {\r\n    if (!isMoving && initSize === newSize) {\r\n      setSize(initSize)\r\n    }\r\n    if (elementRef.current !== null && element == selectElement) {\r\n      elementRef.current.addEventListener(\"mousedown\", MouseDownListener)\r\n    }\r\n    return () => {\r\n      if (elementRef.current !== null) {\r\n        elementRef.current.removeEventListener(\"mousedown\", MouseDownListener)\r\n      }\r\n    }\r\n  })\r\n\r\n  function MoveTopLeftPoint(delta: {x: number, y: number}) {\r\n    newPos = {\r\n      x: position.x + delta.x,\r\n      y: position.y + delta.y,\r\n    }\r\n    newSize = {\r\n      width: stateSizeSelectElement.size.width - delta.x,\r\n      height: stateSizeSelectElement.size.height - delta.y\r\n    }\r\n    if (newSize.width < 1) {\r\n      newSize.width = 1 \r\n    }  \r\n    if (newSize.height < 1) {\r\n      newSize.height = 1 \r\n    } \r\n    if ((newPos.y < position.y + stateSizeSelectElement.size.height && newPos.x < position.x + stateSizeSelectElement.size.width)) {\r\n      setPosition(newPos)\r\n      setPositionSelectElement({ border: newPos, pointTopLeft: newPos, pointTopRight: newPos, pointBottomLeft: newPos, pointBottomRight: newPos, blockTop: newPos, blockLeft: newPos, blockRight: newPos, blockBottom: newPos })\r\n    } else if (newSize.width == 1 && newSize.height == 1) {\r\n      //\r\n    } else if (newSize.width == 1) {\r\n      newPos = {\r\n        x: position.x + stateSizeSelectElement.size.width,\r\n        y: newPos.y\r\n      }\r\n      setPosition(newPos)\r\n      setPositionSelectElement({ border: newPos, pointTopLeft: newPos, pointTopRight: newPos, pointBottomLeft: newPos, pointBottomRight: newPos, blockTop: newPos, blockLeft: newPos, blockRight: newPos, blockBottom: newPos })\r\n    } else if (newSize.height == 1) {\r\n      newPos = {\r\n        x: newPos.x,\r\n        y: position.y + stateSizeSelectElement.size.height\r\n      }\r\n      setPosition(newPos)\r\n      setPositionSelectElement({ border: newPos, pointTopLeft: newPos, pointTopRight: newPos, pointBottomLeft: newPos, pointBottomRight: newPos, blockTop: newPos, blockLeft: newPos, blockRight: newPos, blockBottom: newPos })\r\n    }\r\n    stateSizeSelectElement.setSize(newSize)\r\n    setSize(newSize)\r\n  }\r\n\r\n  function MoveBottomLeftPoint(delta: {x: number, y: number}) {\r\n    newPos = {\r\n      x: position.x + delta.x,\r\n      y: position.y + delta.y,\r\n    }\r\n    newSize = {\r\n      width: stateSizeSelectElement.size.width - delta.x,\r\n      height: stateSizeSelectElement.size.height + delta.y\r\n    }\r\n    if (newSize.width < 1) {\r\n      newSize.width = 1 \r\n    }  \r\n    if (newSize.height < 1) {\r\n      newSize.height = 1 \r\n    } \r\n    if ((newPos.y > position.y - stateSizeSelectElement.size.height && newPos.x < position.x + stateSizeSelectElement.size.width)) {\r\n      newPos = {\r\n        x: newPos.x,\r\n        y: position.y\r\n      }\r\n      setPosition(newPos)\r\n      setPositionSelectElement({ border: newPos, pointTopLeft: newPos, pointTopRight: newPos, pointBottomLeft: newPos, pointBottomRight: newPos, blockTop: newPos, blockLeft: newPos, blockRight: newPos, blockBottom: newPos })\r\n    } else if (newSize.width == 1 && newSize.height == 1) {\r\n      //\r\n    } else if (newSize.width == 1) {\r\n      newPos = {\r\n        x: position.x + stateSizeSelectElement.size.width,\r\n        y: position.y\r\n      }\r\n      setPosition(newPos)\r\n      setPositionSelectElement({ border: newPos, pointTopLeft: newPos, pointTopRight: newPos, pointBottomLeft: newPos, pointBottomRight: newPos, blockTop: newPos, blockLeft: newPos, blockRight: newPos, blockBottom: newPos })\r\n    } else if (newSize.height == 1) {\r\n      newPos = {\r\n        x: newPos.x,\r\n        y: position.y\r\n      }\r\n      setPosition(newPos)\r\n      setPositionSelectElement({ border: newPos, pointTopLeft: newPos, pointTopRight: newPos, pointBottomLeft: newPos, pointBottomRight: newPos, blockTop: newPos, blockLeft: newPos, blockRight: newPos, blockBottom: newPos })\r\n    }\r\n    stateSizeSelectElement.setSize(newSize)\r\n    setSize(newSize)\r\n  }\r\n\r\n  function MoveTopRightPoint(delta: {x: number, y: number}) {\r\n    newPos = {\r\n      x: position.x + delta.x,\r\n      y: position.y + delta.y,\r\n    }\r\n    newSize = {\r\n      width: stateSizeSelectElement.size.width + delta.x,\r\n      height: stateSizeSelectElement.size.height - delta.y\r\n    }\r\n    if (newSize.width < 1) {\r\n      newSize.width = 1 \r\n    }  \r\n    if (newSize.height < 1) {\r\n      newSize.height = 1 \r\n    } \r\n    \r\n    if (newPos.y < position.y + stateSizeSelectElement.size.height && newPos.x > position.x - stateSizeSelectElement.size.width) {\r\n      newPos = {\r\n        x: position.x,\r\n        y: newPos.y\r\n      }\r\n      setPosition(newPos)\r\n      setPositionSelectElement({ border: newPos, pointTopLeft: newPos, pointTopRight: newPos, pointBottomLeft: newPos, pointBottomRight: newPos, blockTop: newPos, blockLeft: newPos, blockRight: newPos, blockBottom: newPos })\r\n    } else if (newSize.width == 1 && newSize.height == 1) {\r\n      //\r\n    } else if (newSize.width == 1) {\r\n      newPos = {\r\n        x: position.x,\r\n        y: newPos.y\r\n      }\r\n      setPosition(newPos)\r\n      setPositionSelectElement({ border: newPos, pointTopLeft: newPos, pointTopRight: newPos, pointBottomLeft: newPos, pointBottomRight: newPos, blockTop: newPos, blockLeft: newPos, blockRight: newPos, blockBottom: newPos })\r\n    } else if (newSize.height == 1) {\r\n      newPos = {\r\n        x: position.x,\r\n        y: position.y + stateSizeSelectElement.size.height\r\n      }\r\n      setPosition(newPos)\r\n      setPositionSelectElement({ border: newPos, pointTopLeft: newPos, pointTopRight: newPos, pointBottomLeft: newPos, pointBottomRight: newPos, blockTop: newPos, blockLeft: newPos, blockRight: newPos, blockBottom: newPos })\r\n    }\r\n    stateSizeSelectElement.setSize(newSize)\r\n    setSize(newSize)\r\n  }\r\n\r\n  function MoveBottomRightPoint(delta: {x: number, y: number}) {\r\n    newSize = {\r\n      width: stateSizeSelectElement.size.width + delta.x,\r\n      height: stateSizeSelectElement.size.height + delta.y\r\n    }\r\n    if (newSize.width < 1) {\r\n      newSize.width = 1 \r\n    }  \r\n    if (newSize.height < 1) {\r\n      newSize.height = 1 \r\n    } \r\n    stateSizeSelectElement.setSize(newSize)\r\n    setSize(newSize)\r\n  }\r\n\r\n  function MoveTopBlock(delta: {x: number, y: number}) {\r\n    newPos = {\r\n      x: position.x,\r\n      y: position.y + delta.y,\r\n    }\r\n    newSize = {\r\n      width: stateSizeSelectElement.size.width,\r\n      height: stateSizeSelectElement.size.height - delta.y\r\n    }\r\n    if (newSize.height < 1) {\r\n      newSize.height = 1 \r\n    } \r\n    if ((newPos.y < position.y + stateSizeSelectElement.size.height)) {\r\n      setPosition(newPos)\r\n      setPositionSelectElement({ border: newPos, pointTopLeft: newPos, pointTopRight: newPos, pointBottomLeft: newPos, pointBottomRight: newPos, blockTop: newPos, blockLeft: newPos, blockRight: newPos, blockBottom: newPos })\r\n    } else if (newSize.width == 1 && newSize.height == 1) {\r\n      //\r\n    } else if (newSize.height == 1) {\r\n      newPos = {\r\n        x: newPos.x,\r\n        y: position.y + stateSizeSelectElement.size.height\r\n      }\r\n      setPosition(newPos)\r\n      setPositionSelectElement({ border: newPos, pointTopLeft: newPos, pointTopRight: newPos, pointBottomLeft: newPos, pointBottomRight: newPos, blockTop: newPos, blockLeft: newPos, blockRight: newPos, blockBottom: newPos })\r\n    }\r\n    stateSizeSelectElement.setSize(newSize)\r\n    setSize(newSize)\r\n  }\r\n\r\n  function MoveRightBlock(delta: {x: number, y: number}) {\r\n    newSize = {\r\n      width: stateSizeSelectElement.size.width + delta.x,\r\n      height: stateSizeSelectElement.size.height\r\n    }\r\n    if (newSize.width < 1) {\r\n      newSize.width = 1 \r\n    }  \r\n    stateSizeSelectElement.setSize(newSize)\r\n    setSize(newSize)\r\n  }\r\n\r\n  function MoveLeftBlock(delta: {x: number, y: number}) {\r\n    newPos = {\r\n      x: position.x + delta.x,\r\n      y: position.y,\r\n    }\r\n    newSize = {\r\n      width: stateSizeSelectElement.size.width - delta.x,\r\n      height: stateSizeSelectElement.size.height\r\n    }\r\n    if (newSize.width < 1) {\r\n      newSize.width = 1 \r\n    }  \r\n    if ((newPos.x < position.x + stateSizeSelectElement.size.width)) {\r\n      setPosition(newPos)\r\n      setPositionSelectElement({ border: newPos, pointTopLeft: newPos, pointTopRight: newPos, pointBottomLeft: newPos, pointBottomRight: newPos, blockTop: newPos, blockLeft: newPos, blockRight: newPos, blockBottom: newPos })\r\n    } else if (newSize.width == 1 && newSize.height == 1) {\r\n      //\r\n    } else if (newSize.width == 1) {\r\n      newPos = {\r\n        x: position.x + stateSizeSelectElement.size.width,\r\n        y: position.y\r\n      }\r\n      setPosition(newPos)\r\n      setPositionSelectElement({ border: newPos, pointTopLeft: newPos, pointTopRight: newPos, pointBottomLeft: newPos, pointBottomRight: newPos, blockTop: newPos, blockLeft: newPos, blockRight: newPos, blockBottom: newPos })\r\n    }\r\n    stateSizeSelectElement.setSize(newSize)\r\n    setSize(newSize)\r\n  }\r\n\r\n  function MoveBottomBlock(delta: {x: number, y: number}) {\r\n    newSize = {\r\n      width: stateSizeSelectElement.size.width,\r\n      height: stateSizeSelectElement.size.height + delta.y\r\n    }\r\n    if (newSize.height < 1) {\r\n      newSize.height = 1 \r\n    } \r\n    stateSizeSelectElement.setSize(newSize)\r\n    setSize(newSize)\r\n  }\r\n\r\n  const MouseDownListener = (e: any) => {\r\n    startPos = {\r\n      x: e.pageX,\r\n      y: e.pageY,\r\n    }\r\n    document.addEventListener(\"mousemove\", MouseMoveListener)\r\n    document.addEventListener(\"mouseup\", MouseUpListener)\r\n  }\r\n\r\n  const MouseMoveListener = (e: any) => {\r\n    setIsMoving(true)\r\n    const delta = {\r\n      x: e.pageX - startPos.x,\r\n      y: e.pageY - startPos.y,\r\n    } \r\n    if (type == 'TopLeft') {\r\n      MoveTopLeftPoint(delta)\r\n    }\r\n    if (type == 'TopRight') {\r\n      MoveTopRightPoint(delta)\r\n    }\r\n    if (type == 'BottomLeft') {\r\n      MoveBottomLeftPoint(delta)\r\n    }\r\n    if (type == 'BottomRight') {\r\n      MoveBottomRightPoint(delta)\r\n    }\r\n    if (type == 'Top') {\r\n      MoveTopBlock(delta)\r\n    }\r\n    if (type == 'Left') {\r\n      MoveLeftBlock(delta)\r\n    }\r\n    if (type == 'Right') {\r\n      MoveRightBlock(delta)\r\n    }\r\n    if (type == 'Bottom') {\r\n      MoveBottomBlock(delta)\r\n    }\r\n  }\r\n\r\n  const MouseUpListener = () => {\r\n    if (!isMoving) {\r\n      if (isFigure(element.object)) {\r\n        if (isRectangle(element.object.figure)) {\r\n          store.dispatch(resizeRectangle(newSize, newPos))\r\n        }\r\n        if (isTriangle(element.object.figure)) {\r\n          store.dispatch(resizeTriangle({\r\n            firstPoint: {x: newPos.x, y: newPos.y + newSize.height}, \r\n            secondPoint: {x: newPos.x + newSize.width / 2, y: newPos.y }, \r\n            thirdPoint: {x: newPos.x + newSize.width , y: newPos.y + newSize.height}\r\n          }, newPos))\r\n        }\r\n        if (isEllipse(element.object.figure)) {\r\n          store.dispatch(resizeEllipse(newSize, newPos))\r\n        }\r\n      }\r\n      if (isImage(element.object)) {\r\n        store.dispatch(resizeImage(newSize, newPos))\r\n      }\r\n    }\r\n    setIsMoving(false)\r\n    document.removeEventListener(\"mousemove\", MouseMoveListener)\r\n    document.removeEventListener(\"mouseup\", MouseUpListener)\r\n  }\r\n}","import React, { MutableRefObject, RefObject, useRef, useState } from 'react'\r\nimport { useDragAndDrop } from '../../../../customHooks/useDragAndDrop'\r\nimport useObjectVisible from '../../../../customHooks/useObjectVisibtle'\r\nimport { pointNames, pointsSelectElement } from './Elements'\r\nimport { useResizeObject } from '../../../../customHooks/useResizeObject'\r\nimport { Element } from '../../../../utils/types'\r\n\r\ninterface TrianglePropsType {\r\n    points: {\r\n        first: { x: number, y: number },\r\n        second: { x: number, y: number },\r\n        third: { x: number, y: number }\r\n    },\r\n    color: string,\r\n    element: Element,\r\n    selectElement: Element | null,\r\n    viewEditor: { view: boolean, state: string },\r\n    setViewEditor: (viewEditor: { view: boolean, state: string }) => void,\r\n    refEditor: RefObject<HTMLDivElement | null>,\r\n    refInputText: MutableRefObject<HTMLInputElement | null>,\r\n    statePointsSelectElement: {\r\n        positionPoints: pointsSelectElement,\r\n        setPositionPoints: (points: pointsSelectElement) => void,\r\n    },\r\n    stateSizeSelectElement: {\r\n        size: {width: number, height: number},\r\n        setSize: (size: {width: number, height: number}) => void,\r\n    },\r\n    setSize: (size: {width: number, height: number}) => void,\r\n    refs: Array<RefObject<HTMLDivElement>>,\r\n}\r\n\r\nexport function Triangle(props: TrianglePropsType) {\r\n    const [position, setPosition] = useState(props.element.centre)\r\n    const [size, setSize] = useState({width: props.points.third.x - props.points.first.x, height: props.points.first.y - props.points.second.y})\r\n    const ref: RefObject<SVGPolygonElement> = useRef(null)\r\n    const [isMoving, setIsMoving] = useState(false)\r\n    useDragAndDrop(props.element, ref, props.element.centre, setPosition, props.statePointsSelectElement.setPositionPoints, props.setViewEditor, props.setSize, isMoving, setIsMoving)\r\n    useObjectVisible(ref, props.element, props.selectElement, props.refEditor, props.refInputText, props.viewEditor, props.setViewEditor, false)\r\n    for (let i = 0; i < pointNames.length; i++) {\r\n        useResizeObject(props.element, props.selectElement, props.refs[i], pointNames[i], {width: props.points.third.x - props.points.first.x, height: props.points.first.y - props.points.second.y}, props.element.centre, setPosition, props.statePointsSelectElement.setPositionPoints, props.stateSizeSelectElement, setSize, isMoving, setIsMoving)\r\n    }\r\n    return (\r\n        <polygon\r\n            ref={ref} \r\n            points={\r\n                position.x + ' ' + (position.y + size.height) + ',' +\r\n                (position.x + (size.width / 2)) + ' ' + position.y + ',' +\r\n                (position.x + size.width) + ' ' + (position.y + size.height)\r\n            }\r\n            fill={props.color}\r\n            onClick={() => {\r\n            }}\r\n        />\r\n    )\r\n}","import React, { MutableRefObject, RefObject, useRef, useState } from 'react'\r\nimport { useDragAndDrop } from '../../../../customHooks/useDragAndDrop'\r\nimport useObjectVisible from '../../../../customHooks/useObjectVisibtle'\r\nimport { pointNames, pointsSelectElement } from './Elements'\r\nimport { useResizeObject } from '../../../../customHooks/useResizeObject'\r\nimport { Element } from '../../../../utils/types'\r\n\r\ninterface RectanglePropsType {\r\n    size: { width: number, height: number },\r\n    color: string,\r\n    element: Element,\r\n    selectElement: Element | null,\r\n    refEditor: RefObject<HTMLDivElement | null>,\r\n    refInputText: MutableRefObject<HTMLInputElement | null>,\r\n    viewEditor: { view: boolean, state: string },\r\n    setViewEditor: (viewEditor: {view: boolean, state: string}) => void,\r\n    statePointsSelectElement: {\r\n        positionPoints: pointsSelectElement,\r\n        setPositionPoints: (points: pointsSelectElement) => void,\r\n    },\r\n    stateSizeSelectElement: {\r\n        size: {width: number, height: number},\r\n        setSize: (size: {width: number, height: number}) => void,\r\n    },\r\n    refs: Array<RefObject<HTMLDivElement>>,\r\n}\r\n\r\nexport function Rectangle(props: RectanglePropsType) {\r\n    const [position, setPosition] = useState(props.element.centre)\r\n    const [size, setSize] = useState(props.size)\r\n    const ref: RefObject<SVGRectElement> = useRef(null)\r\n    const [isMoving, setIsMoving] = useState(false)\r\n    useDragAndDrop(props.element, ref, props.element.centre, setPosition, props.statePointsSelectElement.setPositionPoints, props.setViewEditor, props.stateSizeSelectElement.setSize, isMoving, setIsMoving)\r\n    useObjectVisible(ref, props.element, props.selectElement, props.refEditor, props.refInputText, props.viewEditor, props.setViewEditor, false)\r\n    for (let i = 0; i < pointNames.length; i++) {\r\n        useResizeObject(props.element, props.selectElement, props.refs[i], pointNames[i], props.size, props.element.centre, setPosition, props.statePointsSelectElement.setPositionPoints, props.stateSizeSelectElement, setSize, isMoving, setIsMoving)\r\n    }\r\n    return (\r\n        <rect\r\n            ref={ref}\r\n            x={position.x}\r\n            y={position.y}\r\n            width={size.width}\r\n            height={size.height}\r\n            fill={props.color}\r\n        />\r\n    )\r\n}","import React, { MutableRefObject, RefObject, useRef, useState } from 'react'\r\nimport { useDragAndDrop } from '../../../../customHooks/useDragAndDrop'\r\nimport useObjectVisible from '../../../../customHooks/useObjectVisibtle'\r\nimport { pointNames, pointsSelectElement } from './Elements'\r\nimport { useResizeObject } from '../../../../customHooks/useResizeObject'\r\nimport { Element } from '../../../../utils/types'\r\n\r\ninterface EllipsePropsType {\r\n    radius: { rx: number, ry: number },\r\n    color: string,\r\n    element: Element,\r\n    selectElement: Element | null,\r\n    refEditor: RefObject<HTMLDivElement | null>,\r\n    refInputText: MutableRefObject<HTMLInputElement | null>,\r\n    viewEditor: { view: boolean, state: string },\r\n    setViewEditor: (viewEditor: {view: boolean, state: string}) => void,\r\n    statePointsSelectElement: {\r\n        positionPoints: pointsSelectElement,\r\n        setPositionPoints: (points: pointsSelectElement) => void,\r\n    },\r\n    stateSizeSelectElement: {\r\n        size: {width: number, height: number},\r\n        setSize: (size: {width: number, height: number}) => void,\r\n    },\r\n    setSize: (size: {width: number, height: number}) => void,\r\n    refs: Array<RefObject<HTMLDivElement>>,\r\n}\r\n\r\nexport function Ellipse(props: EllipsePropsType) {\r\n    const [position, setPosition] = useState(props.element.centre)\r\n    const [size, setSize] = useState({width: props.radius.rx * 2, height: props.radius.ry * 2})\r\n    const [isMoving, setIsMoving] = useState(false)\r\n    const ref: RefObject<SVGEllipseElement> = useRef(null)\r\n    useDragAndDrop(props.element, ref, props.element.centre, setPosition, props.statePointsSelectElement.setPositionPoints, props.setViewEditor, props.setSize, isMoving, setIsMoving)\r\n    useObjectVisible(ref, props.element, props.selectElement, props.refEditor, props.refInputText, props.viewEditor, props.setViewEditor, false)\r\n    for (let i = 0; i < pointNames.length; i++) {\r\n        useResizeObject(props.element, props.selectElement, props.refs[i], pointNames[i], {width: props.radius.rx * 2, height: props.radius.ry * 2}, props.element.centre, setPosition, props.statePointsSelectElement.setPositionPoints, props.stateSizeSelectElement, setSize, isMoving, setIsMoving)\r\n    }\r\n    return (\r\n        <ellipse\r\n            ref={ref}\r\n            cx={position.x + size.width / 2}\r\n            cy={position.y + size.height / 2}\r\n            rx={size.width / 2}\r\n            ry={size.height / 2}\r\n            fill={props.color}\r\n            onClick={() => {\r\n            }}\r\n        />\r\n    )\r\n}","import React, { MutableRefObject, RefObject, useRef, useState } from 'react'\r\nimport { useDragAndDrop } from '../../../../customHooks/useDragAndDrop'\r\nimport useObjectVisible from '../../../../customHooks/useObjectVisibtle'\r\nimport { pointNames, pointsSelectElement } from './Elements'\r\nimport { useResizeObject } from '../../../../customHooks/useResizeObject'\r\nimport { Element } from '../../../../utils/types'\r\n\r\ninterface ImagePropsType {\r\n    size: { width: number, height: number },\r\n    url: string,\r\n    element: Element,\r\n    selectElement: Element | null,\r\n    refEditor: RefObject<HTMLDivElement | null>,\r\n    refInputText: MutableRefObject<HTMLInputElement | null>,\r\n    viewEditor: { view: boolean, state: string },\r\n    statePointsSelectElement: {\r\n        positionPoints: pointsSelectElement,\r\n        setPositionPoints: (points: pointsSelectElement) => void,\r\n    }\r\n    stateSizeSelectElement: {\r\n        size: {width: number, height: number},\r\n        setSize: (size: {width: number, height: number}) => void,\r\n    }\r\n    setSize: (size: {width: number, height: number}) => void,\r\n    setViewEditor: (viewEditor: { view: boolean, state: string }) => void,\r\n    refs: Array<RefObject<HTMLDivElement>>,\r\n}\r\n\r\nexport function Image(props: ImagePropsType) {\r\n    const [position, setPosition] = useState(props.element.centre)\r\n    const [size, setSize] = useState(props.size)\r\n    const ref: RefObject<SVGImageElement> = useRef(null)\r\n    const [isMoving, setIsMoving] = useState(false)\r\n    useDragAndDrop(props.element, ref, props.element.centre, setPosition, props.statePointsSelectElement.setPositionPoints, props.setViewEditor, props.setSize, isMoving, setIsMoving)\r\n    useObjectVisible(ref, props.element, props.selectElement, props.refEditor, props.refInputText, props.viewEditor, props.setViewEditor, false)\r\n    for (let i = 0; i < pointNames.length; i++) {\r\n        useResizeObject(props.element, props.selectElement, props.refs[i], pointNames[i], props.size, props.element.centre, setPosition, props.statePointsSelectElement.setPositionPoints, props.stateSizeSelectElement, setSize, isMoving, setIsMoving)\r\n    }\r\n    return (\r\n        <image\r\n            ref={ref}\r\n            crossOrigin={'anonymous'}\r\n            href={props.url}\r\n            x={position.x}\r\n            y={position.y}\r\n            width={size.width}\r\n            height={size.height}\r\n        />\r\n    )\r\n}","import React, { MutableRefObject, RefObject, useEffect, useRef, useState } from 'react'\r\nimport { getCentreAndSizeOfElement } from '../SelectElement/SelectElementFunction'\r\nimport { useDragAndDrop } from '../../../../customHooks/useDragAndDrop'\r\nimport useObjectVisible from '../../../../customHooks/useObjectVisibtle'\r\nimport { pointsSelectElement } from './Elements'\r\nimport { Element } from '../../../../utils/types'\r\n\r\ninterface TextPropsType {\r\n    string: string,\r\n    fontFamily: string,\r\n    fontSize: number,\r\n    color: string,\r\n    element: Element,\r\n    selectElement: Element | null,\r\n    refEditor: RefObject <HTMLDivElement | null>,\r\n    refInputText: MutableRefObject<HTMLInputElement | null>,\r\n    viewEditor: { view: boolean, state: string },\r\n    setViewEditor: (viewEditor: { view: boolean, state: string }) => void,\r\n    statePointsSelectElement: {\r\n        positionPoints: pointsSelectElement,\r\n        setPositionPoints: (points: pointsSelectElement) => void,\r\n    }\r\n    setInputValue: (value: string) => void,\r\n    stateViewInput: {\r\n        viewInput: boolean,\r\n        setViewInput: (view: boolean) => void,\r\n    },\r\n    setSize: (size: {width: number, height: number}) => void,\r\n}\r\n\r\nexport function Text(props: TextPropsType) {\r\n    const ref = useRef(null)\r\n    const { centre, size, type } = getCentreAndSizeOfElement(props.element, ref)\r\n\r\n    useEffect(() => {\r\n        props.setSize(getCentreAndSizeOfElement(props.element, ref).size)\r\n        props.statePointsSelectElement.setPositionPoints({\r\n            ...props.statePointsSelectElement.positionPoints,\r\n            border: {x: getCentreAndSizeOfElement(props.element, ref).centre.x, y: getCentreAndSizeOfElement(props.element, ref).centre.y - props.fontSize}\r\n        })\r\n      }, [props.fontFamily, props.fontSize])\r\n\r\n    const [position, setPosition] = useState(centre)\r\n    const [isMoving, setIsMoving] = useState(false)\r\n    useDragAndDrop(props.element, ref, centre, setPosition, props.statePointsSelectElement.setPositionPoints, props.setViewEditor, props.setSize, isMoving, setIsMoving)\r\n    useObjectVisible(ref, props.element, props.selectElement, props.refEditor, props.refInputText, props.viewEditor, props.setViewEditor, props.stateViewInput.viewInput)\r\n    return (\r\n        <text\r\n            ref={ref}\r\n            x={position.x} \r\n            y={position.y}\r\n            style={{ fontFamily: props.fontFamily, fontSize: props.fontSize, fill: props.color }}\r\n            onClick={() => {\r\n                props.setInputValue(props.string)\r\n                props.stateViewInput.setViewInput(false)\r\n            }}\r\n            onDoubleClick={() => {\r\n                props.stateViewInput.setViewInput(true)\r\n            }}\r\n        >\r\n            {props.string}\r\n        </text>\r\n    )\r\n}","import React, { MutableRefObject, RefObject } from 'react'\r\nimport { Triangle } from './Triangle'\r\nimport { Rectangle } from './Rectangle'\r\nimport { Ellipse } from './Ellipse'\r\nimport { Image } from './Image'\r\nimport { Text } from './Text'\r\nimport { Canvas, Element, Ellipse as EllipseType, Figure, Image as ImageType, Rectangle as RectangleType, Text as TextType, Triangle as TriangleType } from '../../../../utils/types'\r\nimport { isEllipse, isFigure, isImage, isRectangle, isText, isTriangle } from '../../../../utils/typeGuards'\r\n\r\nexport interface pointsSelectElement {\r\n    border: {x: number, y: number},\r\n    pointTopLeft: {x: number, y: number},\r\n    pointTopRight: {x: number, y: number},\r\n    pointBottomLeft: {x: number, y: number},\r\n    pointBottomRight: {x: number, y: number},\r\n    blockTop: {x: number, y: number},\r\n    blockLeft: {x: number, y: number},\r\n    blockRight: {x: number, y: number},\r\n    blockBottom: {x: number, y: number}\r\n}\r\n\r\ninterface CanvasPropsType {\r\n    canvas: Canvas,\r\n    stateViewEditor: {\r\n        viewEditor: { view: boolean, state: string }\r\n        setViewEditor: (viewEditor: { view: boolean, state: string }) => void,\r\n    }\r\n    refEditor: MutableRefObject<HTMLDivElement | null>,\r\n    refInputText: MutableRefObject<HTMLInputElement | null>,\r\n    statePointsSelectElement: {\r\n        positionPoints: pointsSelectElement,\r\n        setPositionPoints: (points: pointsSelectElement) => void,\r\n    }\r\n    stateViewInput: {\r\n        viewInput: boolean,\r\n        setViewInput: (view: boolean) => void,\r\n    },\r\n    setInputValue: (value: string) => void,\r\n    stateSizeSelectElement: {\r\n        size: {width: number, height: number},\r\n        setSize: (size: {width: number, height: number}) => void,\r\n    }\r\n    refs: Array<RefObject<HTMLDivElement>>,\r\n}\r\n\r\nexport const pointNames: Array<string> = ['TopLeft', 'TopRight', 'BottomLeft', 'BottomRight', 'Top', 'Left', 'Right', 'Bottom']\r\n\r\nexport default function Elements(props: CanvasPropsType): JSX.Element {\r\n    let elements: Array<JSX.Element | undefined> = props.canvas.elements.map(function (element: Element) {\r\n        const object = element.object\r\n        if (isFigure(object)) {\r\n            const figure: Figure = object\r\n            if (isTriangle(figure.figure)) {\r\n                const triangle: TriangleType = figure.figure\r\n                return <Triangle\r\n                    key={element.id}\r\n                    points={{\r\n                        first: { x: triangle.firstPoint.x, y: triangle.firstPoint.y },\r\n                        second: { x: triangle.secondPoint.x, y: triangle.secondPoint.y },\r\n                        third: { x: triangle.thirdPoint.x, y: triangle.thirdPoint.y }\r\n                    }}\r\n                    color={figure.color}\r\n                    element={element}\r\n                    selectElement={props.canvas.selectElement}\r\n                    viewEditor={props.stateViewEditor.viewEditor}\r\n                    setViewEditor={props.stateViewEditor.setViewEditor}\r\n                    refEditor={props.refEditor}\r\n                    refInputText={props.refInputText}\r\n                    stateSizeSelectElement={props.stateSizeSelectElement}\r\n                    statePointsSelectElement={props.statePointsSelectElement}\r\n                    setSize={props.stateSizeSelectElement.setSize}\r\n                    refs={props.refs}\r\n                />\r\n            }\r\n            if (isRectangle(figure.figure)) {\r\n                const rectangle: RectangleType = figure.figure\r\n                return <Rectangle\r\n                    key={element.id}\r\n                    size={{ width: rectangle.size.width, height: rectangle.size.height }}\r\n                    color={figure.color}\r\n                    element={element}\r\n                    selectElement={props.canvas.selectElement}\r\n                    refEditor={props.refEditor}\r\n                    refInputText={props.refInputText}\r\n                    viewEditor={props.stateViewEditor.viewEditor}\r\n                    setViewEditor={props.stateViewEditor.setViewEditor}\r\n                    statePointsSelectElement={props.statePointsSelectElement}\r\n                    stateSizeSelectElement={props.stateSizeSelectElement}\r\n                    refs={props.refs}\r\n                />\r\n            }\r\n            if (isEllipse(figure.figure)) {\r\n                const ellipse: EllipseType = figure.figure\r\n                return <Ellipse\r\n                    key={element.id}\r\n                    radius={{ rx: ellipse.rx, ry: ellipse.ry }}\r\n                    color={figure.color}\r\n                    element={element}\r\n                    selectElement={props.canvas.selectElement}\r\n                    refEditor={props.refEditor}\r\n                    refInputText={props.refInputText}\r\n                    viewEditor={props.stateViewEditor.viewEditor}\r\n                    setViewEditor={props.stateViewEditor.setViewEditor}\r\n                    statePointsSelectElement={props.statePointsSelectElement}\r\n                    setSize={props.stateSizeSelectElement.setSize}\r\n                    stateSizeSelectElement={props.stateSizeSelectElement}\r\n                    refs={props.refs}\r\n                />\r\n            }\r\n        } else if (isImage(object)) {\r\n            const image: ImageType = object\r\n            return <Image\r\n                key={element.id}\r\n                url={image.url}\r\n                size={image.size}\r\n                element={element}\r\n                selectElement={props.canvas.selectElement}\r\n                refEditor={props.refEditor}\r\n                refInputText={props.refInputText}\r\n                viewEditor={props.stateViewEditor.viewEditor}\r\n                statePointsSelectElement={props.statePointsSelectElement}\r\n                setSize={props.stateSizeSelectElement.setSize}\r\n                stateSizeSelectElement={props.stateSizeSelectElement}\r\n                setViewEditor={props.stateViewEditor.setViewEditor}\r\n                refs={props.refs}\r\n            />\r\n        } else if (isText(object)) {\r\n            const text: TextType = object\r\n            return <Text\r\n                key={element.id}\r\n                string={text.str}\r\n                fontFamily={text.font}\r\n                fontSize={text.fontSize}\r\n                color={text.color}\r\n                element={element}\r\n                selectElement={props.canvas.selectElement}\r\n                refEditor={props.refEditor}\r\n                refInputText={props.refInputText}\r\n                viewEditor={props.stateViewEditor.viewEditor}\r\n                setViewEditor={props.stateViewEditor.setViewEditor}\r\n                statePointsSelectElement={props.statePointsSelectElement}\r\n                setInputValue={props.setInputValue}\r\n                stateViewInput={props.stateViewInput}\r\n                setSize={props.stateSizeSelectElement.setSize}\r\n            />\r\n        }\r\n    })\r\n    return <>\r\n        {elements}\r\n    </>\r\n}","import React, { MutableRefObject, RefObject, useEffect, useRef, useState } from 'react'\r\nimport styles from './Canvas.module.css'\r\nimport { SelectElement } from './SelectElement/SelectElement'\r\nimport { InputText } from './InputText/InputText'\r\nimport Elements from './Elements/Elements'\r\nimport { Canvas as CanvasType } from '../../../utils/types'\r\nimport { store } from '../../../store/store'\r\nimport { deleteSelectElement } from '../../../store/actionCreators/ElementsActionCreators'\r\n\r\ninterface CanvasPropsType {\r\n    canvas: CanvasType,\r\n    stateSizeSelectElement: {\r\n        sizeSelectElement: { width: number, height: number },\r\n        setSizeSelectElement: (size: { width: number, height: number }) => void,\r\n    },\r\n    stateViewEditor: {\r\n        viewEditor: { view: boolean, state: string }\r\n        setViewEditor: (viewEditor: { view: boolean, state: string }) => void,\r\n    }\r\n    refEditor: MutableRefObject<HTMLDivElement | null>,\r\n}\r\n\r\nexport function Canvas(props: CanvasPropsType) {\r\n    const [positionPoints, setPositionPoints] = useState({\r\n        border: { x: 0, y: 0 },\r\n        pointTopLeft: { x: 0, y: 0 },\r\n        pointTopRight: { x: 0, y: 0 },\r\n        pointBottomLeft: { x: 0, y: 0 },\r\n        pointBottomRight: { x: 0, y: 0 },\r\n        blockTop: { x: 0, y: 0 },\r\n        blockLeft: { x: 0, y: 0 },\r\n        blockRight: { x: 0, y: 0 },\r\n        blockBottom: { x: 0, y: 0 },\r\n    })\r\n    const refInputText: RefObject<HTMLInputElement> = useRef(null)\r\n    const [viewInput, setViewInput] = useState(false)\r\n    const [inputValue, setInputValue] = useState('')\r\n\r\n    const escFunction = (event: any) => {\r\n        if (event.keyCode === 46 && props.canvas.selectElement !== null) {\r\n            store.dispatch(deleteSelectElement())\r\n            if (props.stateViewEditor.viewEditor.state == 'Figure Properties') {\r\n                props.stateViewEditor.setViewEditor({ view: true, state: 'Graphics' })\r\n            }\r\n            if (props.stateViewEditor.viewEditor.state == 'Text Properties') {\r\n                props.stateViewEditor.setViewEditor({ view: true, state: 'Text' })\r\n            }\r\n            if (props.stateViewEditor.viewEditor.state == 'FontChoose') {\r\n                props.stateViewEditor.setViewEditor({ view: true, state: 'Text' })\r\n            }\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        document.addEventListener(\"keydown\", escFunction, false)\r\n        return () => {\r\n            document.removeEventListener(\"keydown\", escFunction, false)\r\n        }\r\n    })\r\n\r\n        const pointTopLeftRef: RefObject<HTMLDivElement> = useRef(null)\r\n        const pointTopRightRef: RefObject<HTMLDivElement> = useRef(null)\r\n        const pointBottomLeftRef: RefObject<HTMLDivElement> = useRef(null)\r\n        const pointBottomRightRef: RefObject<HTMLDivElement> = useRef(null)\r\n        const borderTopRef: RefObject<HTMLDivElement> = useRef(null)\r\n        const borderLeftRef: RefObject<HTMLDivElement> = useRef(null)\r\n        const borderRightRef: RefObject<HTMLDivElement> = useRef(null)\r\n        const borderBottomRef: RefObject<HTMLDivElement> = useRef(null)\r\n        let refs = [pointTopLeftRef, pointTopRightRef, pointBottomLeftRef, pointBottomRightRef, borderTopRef, borderLeftRef, borderRightRef, borderBottomRef]\r\n    \r\n\r\n    return (\r\n        <div style={{\r\n            width: props.canvas.size.width,\r\n            height: props.canvas.size.height,\r\n            zoom: 0.8\r\n        }}\r\n            className={styles.canvas}\r\n        >\r\n            <svg style={{ width: props.canvas.size.width, height: props.canvas.size.height, background: props.canvas.background }} >\r\n                <Elements\r\n                    setInputValue={setInputValue}\r\n                    canvas={props.canvas}\r\n                    stateViewEditor={{\r\n                        viewEditor: props.stateViewEditor.viewEditor,\r\n                        setViewEditor: props.stateViewEditor.setViewEditor\r\n                    }}\r\n                    refEditor={props.refEditor}\r\n                    refInputText={refInputText}\r\n                    statePointsSelectElement={{ positionPoints, setPositionPoints }}\r\n                    stateViewInput={{ viewInput, setViewInput }}\r\n                    stateSizeSelectElement={{ size: props.stateSizeSelectElement.sizeSelectElement, setSize: props.stateSizeSelectElement.setSizeSelectElement }}\r\n                    refs={refs}\r\n                />\r\n                {props.canvas.selectElement !== null && <SelectElement\r\n                    selectElement={props.canvas.selectElement}\r\n                    setViewEditor={props.stateViewEditor.setViewEditor}\r\n                    setViewInput={setViewInput}\r\n                    statePointsSelectElement={{ positionPoints, setPositionPoints }}\r\n                    size={props.stateSizeSelectElement.sizeSelectElement}\r\n                    refs={refs}\r\n                />}\r\n                {viewInput && <InputText\r\n                    selectElement={props.canvas.selectElement}\r\n                    positionSelectElement={positionPoints.pointTopLeft}\r\n                    refInputText={refInputText}\r\n                    setViewEditor={props.stateViewEditor.setViewEditor}\r\n                    stateInputValue={{ inputValue, setInputValue }}\r\n                    stateViewInput={{ viewInput, setViewInput }}\r\n                    stateSize={{\r\n                        size: props.stateSizeSelectElement.sizeSelectElement,\r\n                        setSize: props.stateSizeSelectElement.setSizeSelectElement\r\n                    }}\r\n                />}\r\n            </svg>\r\n        </div>\r\n    )\r\n}","import React, { MutableRefObject } from 'react'\r\nimport styles from './Workspace.module.css'\r\nimport { Canvas } from '../Workspace/Canvas/Canvas'\r\nimport { store } from '../../store/store'\r\n\r\ninterface WorkspacePropsType {\r\n    refEditor: MutableRefObject<HTMLDivElement | null>,\r\n    stateSizeSelectElement: {\r\n        sizeSelectElement: {width: number, height: number},\r\n        setSizeSelectElement: (size: {width: number, height: number}) => void,\r\n    },\r\n    stateViewEditor: {\r\n        viewEditor: { view: boolean, state: string }\r\n        setViewEditor: (viewEditor: { view: boolean, state: string }) => void\r\n    },\r\n}\r\n\r\nexport function Workspace(props: WorkspacePropsType) {\r\n    return (\r\n        <div className={styles.workspace} style={{ width: (() => { return props.stateViewEditor.viewEditor.view ? 'calc(100% - 270px)' : '100%' })() }}>\r\n            <Canvas\r\n                canvas={store.getState().canvas}\r\n                stateSizeSelectElement={{\r\n                    sizeSelectElement: props.stateSizeSelectElement.sizeSelectElement, \r\n                    setSizeSelectElement: props.stateSizeSelectElement.setSizeSelectElement\r\n                }}\r\n                stateViewEditor={{\r\n                    viewEditor: props.stateViewEditor.viewEditor,\r\n                    setViewEditor: props.stateViewEditor.setViewEditor\r\n                }}\r\n                refEditor={props.refEditor}\r\n            />\r\n        </div>\r\n    )\r\n}","import React, { ChangeEvent, RefObject, useRef } from 'react'\r\nimport { addImage } from '../../../store/actionCreators/ImageActionCreators';\r\nimport { store } from '../../../store/store'\r\nimport styles from './ImageManager.module.css'\r\n\r\ninterface ImageManagerPropsType {\r\n    setSizeInsertImage: (insertImage: {image: {size: {width: number, height: number}, url: string}, view: boolean}) => void,\r\n    setNotification: (viewResize: boolean) => void,\r\n}\r\n\r\nexport function ImageManager(props: ImageManagerPropsType) {\r\n    const ref: RefObject<HTMLInputElement> = useRef(null)\r\n    function createImage(url: string): Promise<HTMLImageElement> {\r\n        return new Promise((resolve, reject) => {\r\n            let img: HTMLImageElement = new Image();\r\n            img.onload = () => resolve(img);\r\n            img.onerror = () => reject();\r\n            img.src = url;\r\n        });\r\n    }\r\n    async function getSize(imgSrc: string) {\r\n        const image: HTMLImageElement = await createImage(imgSrc);\r\n        return { width: image.width, height: image.height }\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <div className={styles.header}>Image Manager</div>\r\n            <label htmlFor=\"fileImage\" className={styles.button}>\r\n                <div className={styles.text}>Computer</div>\r\n            </label>\r\n            <input ref={ref} id=\"fileImage\" type=\"file\" className={styles.input} accept=\"image/png, image/gif, image/jpeg\" onChange={\r\n                (event: ChangeEvent<HTMLInputElement>) => {\r\n                    if (event.currentTarget.files) {\r\n                        const imgUrl = URL.createObjectURL(event.currentTarget.files[0])\r\n                        getSize(imgUrl).then(size => { \r\n                            if (store.getState().canvas.size.width < size.width || store.getState().canvas.size.height < size.height) {\r\n                                props.setSizeInsertImage({image: {size: size, url: imgUrl}, view: true})\r\n                            } else {\r\n                                store.dispatch(addImage(imgUrl, size))\r\n                            }\r\n                        })\r\n                        event.target.value = \"\";\r\n                    }\r\n                }} />\r\n            <div className={styles.button} onClick={() => {\r\n                props.setNotification(true)\r\n            }}>\r\n                <div className={styles.text}>Pixels</div>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, { useState } from 'react'\r\nimport { ChromePicker, ColorResult } from 'react-color'\r\nimport { store } from '../../store/store'\r\nimport styles from './ColorPicker.module.css'\r\n\r\ninterface ColorPickerPropstype {\r\n    color: string,\r\n    function: (color: string) => {type: string, color: string},\r\n}\r\n\r\nexport function ColorPicker(props: ColorPickerPropstype) {\r\n    const [color, setColor] = useState('#FFF')\r\n    const chromePickerStyles = {\r\n        default: {\r\n            picker: { \r\n                width: '250px',\r\n                height: '255px',\r\n                borderRadius: '13px',\r\n                backgroundColor: '#242631',\r\n                paddingTop: '15px',\r\n            },\r\n        },\r\n    }\r\n    return (\r\n        <div>\r\n            <div className={styles.header}>Picker</div>\r\n            <ChromePicker\r\n                color={props.color}\r\n                onChange={(newColor: ColorResult, event: React.ChangeEvent<HTMLInputElement>) => {\r\n                    store.dispatch(props.function(newColor.hex))\r\n                }}\r\n                styles={chromePickerStyles}\r\n            />\r\n        </div>\r\n    )\r\n}","import React from 'react'\r\nimport { setBackgroundColor } from '../../../store/actionCreators/CanvasActionCreators'\r\nimport { store } from '../../../store/store'\r\nimport styles from './ButtonColor.module.css'\r\n\r\ninterface ButtonColorPropsType {\r\n    color: string,\r\n}\r\n\r\nexport function ButtonColor(props: ButtonColorPropsType) {\r\n    return (\r\n        <div \r\n            className={styles.color}\r\n            style={{ backgroundColor: props.color }}\r\n            onClick={() => {\r\n                store.dispatch(setBackgroundColor(props.color))\r\n            }}\r\n        >\r\n        </div>\r\n    )\r\n}","import React, { ReactElement } from 'react'\r\nimport useComponentVisible from '../../../customHooks/useComponentVisible'\r\nimport { setBackgroundColor } from '../../../store/actionCreators/CanvasActionCreators'\r\nimport { store } from '../../../store/store'\r\nimport { ColorPicker } from '../../ColorPicker/ColorPicker'\r\nimport { ButtonColor } from './ButtonColor'\r\nimport styles from './Customize.module.css'\r\n\r\nconst colors: Array<string> = [\r\n    'rgb(255, 255, 255)',\r\n    'rgb(155, 155, 155)',\r\n    'rgb(74, 74, 74)',\r\n    'rgb(0, 0, 0)',\r\n    'rgb(167, 12, 44)',\r\n    'rgb(218, 154, 21)',\r\n    'rgb(248, 231, 29)',\r\n    'rgb(71, 130, 26)',\r\n    'rgb(73, 144, 226)',\r\n]\r\n\r\ninterface CustomizePropsType {\r\n    setViewResize: (viewResize: boolean) => void,\r\n}\r\n\r\nexport function Customize(props: CustomizePropsType) {\r\n    const { ref, isComponentVisible, setIsComponentVisible } = useComponentVisible(false)\r\n\r\n    let ButtonsColor: Array<ReactElement> = colors.map(function (color, index) {\r\n        return <ButtonColor key={index} color={color} />\r\n    })\r\n\r\n    return (\r\n        <div>\r\n            <div className={styles.header}>Cuztomize</div>\r\n            <div className={styles.button} onClick={() => { props.setViewResize(true) }}>\r\n                <div className={styles.text}>Resize Template</div>\r\n            </div>\r\n            <div className={styles.size}>{store.getState().canvas.size.width} × {store.getState().canvas.size.height} px</div>\r\n            <div className={styles.colors}>\r\n                <div className={styles.color_text}>Background Color</div>\r\n                <div className={styles.colors__layout}>\r\n                    <div\r\n                        className={styles.color}\r\n                        style={{ backgroundColor: store.getState().canvas.background, position: 'relative' }}\r\n                        onClick={() => { setIsComponentVisible(true) }}\r\n                    >\r\n                        <span className={styles.color_triangle}></span>\r\n                    </div>\r\n                    {ButtonsColor}\r\n                </div>\r\n                <div ref={ref} className={(() => { return isComponentVisible ? styles.pickerWrap : '' })()} >\r\n                    {isComponentVisible && <ColorPicker color={store.getState().canvas.background} function={setBackgroundColor} />}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React from 'react'\r\nimport styles from './Templates.module.css'\r\n\r\ninterface TempaltesPropsType {\r\n    setNotification: (viewResize: boolean) => void,\r\n}\r\n\r\nexport function Templates(props: TempaltesPropsType) {\r\n    return (\r\n        <div>\r\n            <div className={styles.header}>Templates</div>\r\n            \r\n            <div className={styles.button} onClick={() => {\r\n                props.setNotification(true)\r\n            }}>\r\n                <div className={styles.text}>Collection of Templates</div>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React from 'react'\r\nimport { addEllipse, addRectangle, addTriangle } from '../../../store/actionCreators/FigureActionCreators'\r\nimport { store } from '../../../store/store'\r\nimport styles from './Graphics.module.css'\r\n\r\ninterface GraphicsPropsType {\r\n    setViewEditor: (viewEditor: { view: boolean, state: string }) => void,\r\n}\r\n\r\nexport function Graphics(props: GraphicsPropsType) {\r\n    return (\r\n        <div>\r\n            <div className={styles.header}>Graphics</div>\r\n            <div className={styles.graphics_layout}>\r\n                <div className={styles.button_layout} onClick={() => { store.dispatch(addRectangle()) }}>\r\n                    <svg className={styles.svg}>\r\n                        <rect width=\"50\" height=\"50\" fill=\"#5c607e\" className={styles.button} />\r\n                    </svg>\r\n                </div>\r\n                <div className={styles.button_layout + ' ' + styles.ellipse_back} onClick={() => { store.dispatch(addEllipse()) }}>\r\n                    <svg className={styles.svg}>\r\n                        <ellipse cx=\"25\" cy=\"25\" rx=\"25\" ry=\"25\" fill=\"#5c607e\" className={styles.button} />\r\n                    </svg>\r\n                </div>\r\n                <div className={styles.button_layout + ' ' + styles.triangle_back} onClick={() => { store.dispatch(addTriangle()) }}>\r\n                    <svg className={styles.svg} style={{ marginTop: '2px' }}>\r\n                        <polygon points=\"0,50 25,0 50,50\" fill=\"#5c607e\" className={styles.button} />\r\n                    </svg>\r\n                </div>\r\n            </div>\r\n        </div >\r\n    )\r\n}","import React from 'react'\r\nimport { addText } from '../../../store/actionCreators/TextActionCreators'\r\nimport { store } from '../../../store/store'\r\nimport styles from './Text.module.css'\r\n\r\nexport function Text() {\r\n    return (\r\n        <div>\r\n            <div className={styles.header}>Text</div>\r\n            <div className={styles.button} onClick={() => {\r\n                store.dispatch(addText())\r\n            }}>\r\n                <div className={styles.text}>Add Text</div>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React from 'react'\r\nimport useComponentVisible from '../../../customHooks/useComponentVisible'\r\nimport { deleteSelectElement, setSelectElement } from '../../../store/actionCreators/ElementsActionCreators'\r\nimport { setColorFigure } from '../../../store/actionCreators/FigureActionCreators'\r\nimport { store } from '../../../store/store'\r\nimport { isFigure } from '../../../utils/typeGuards'\r\nimport { Element } from '../../../utils/types'\r\nimport { ColorPicker } from '../../ColorPicker/ColorPicker'\r\nimport styles from './FigureProperties.module.css'\r\n\r\ninterface FigurePropertiesPropsType {\r\n    setViewEditor: (viewEditor: { view: boolean, state: string }) => void,\r\n}\r\n\r\nexport function FigureProperties(props: FigurePropertiesPropsType) {\r\n    const { ref, isComponentVisible, setIsComponentVisible } = useComponentVisible(false)\r\n    return (\r\n        <div>\r\n            <div className={styles.header_layout}>\r\n                <div className={styles.header}>Figure Properties</div>\r\n                <div className={styles.image_wrap} onClick={() => {\r\n                    props.setViewEditor({ view: false, state: '' })\r\n                    store.dispatch(setSelectElement(null))\r\n                }}>\r\n                    <img className={styles.image} src=\"images/close.png\" />\r\n                </div>\r\n            </div>\r\n            <div className={styles.colors}>\r\n                <div className={styles.text}>Color</div>\r\n                <div className={styles.picker_layout}>\r\n                    <div\r\n                        className={styles.color}\r\n                        style={{\r\n                            backgroundColor: (() => {\r\n                                const selectElement: Element | null = store.getState().canvas.selectElement\r\n                                const figure: unknown = selectElement !== null ? selectElement.object : null\r\n                                if (figure !== null && isFigure(figure)) {\r\n                                    return figure.color\r\n                                }\r\n                                return '#FFF'\r\n                            })(),\r\n                            position: 'relative'\r\n                        }}\r\n                        onClick={() => { setIsComponentVisible(true) }}\r\n                    >\r\n                        <span className={styles.color_triangle}></span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className={styles.button_wrap} onClick={() => {\r\n                props.setViewEditor({ view: true, state: 'Graphics' })\r\n                store.dispatch(deleteSelectElement())\r\n            }}>\r\n                <img className={styles.button} src=\"images/bin.png\" />\r\n            </div>\r\n            <div ref={ref} className={(() => { return isComponentVisible ? styles.pickerWrap : '' })()} >\r\n                {isComponentVisible && <ColorPicker color={(() => {\r\n                    const selectElement: Element | null = store.getState().canvas.selectElement\r\n                    const figure: unknown = selectElement !== null ? selectElement.object : null\r\n                    if (figure !== null && isFigure(figure)) {\r\n                        return figure.color\r\n                    }\r\n                    return '#FFF'\r\n                })()} function={setColorFigure} />}\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, { MutableRefObject, useState } from 'react'\r\nimport useComponentVisible from '../../../customHooks/useComponentVisible'\r\nimport { deleteSelectElement, setSelectElement } from '../../../store/actionCreators/ElementsActionCreators'\r\nimport { setColorText, setSizeText } from '../../../store/actionCreators/TextActionCreators'\r\nimport { store } from '../../../store/store'\r\nimport { isText } from '../../../utils/typeGuards'\r\nimport { Element, Text } from '../../../utils/types'\r\nimport { ColorPicker } from '../../ColorPicker/ColorPicker'\r\nimport styles from './TextProperties.module.css'\r\n\r\ninterface TextPropertiesPropsType {\r\n    setViewEditor: (viewEditor: { view: boolean, state: string }) => void,\r\n    font: string,\r\n}\r\n\r\nexport function TextProperties(props: TextPropertiesPropsType) {\r\n    const { ref, isComponentVisible, setIsComponentVisible } = useComponentVisible(false)\r\n    const selectElement: Element | null = store.getState().canvas.selectElement\r\n    const object: unknown = selectElement !== null ? selectElement.object : null\r\n    const sizeText = (object !== null && isText(object)) ? object.fontSize : 0\r\n    const [size, setSize] = useState(sizeText)\r\n\r\n    const digits = ['1', '2', '3', '4', '5', '6', '7', '8', '9', '0']\r\n    function handleChangeFontSize(event: React.ChangeEvent<HTMLInputElement>) {\r\n        if (digits.includes(event.target.value.slice(-1))) {\r\n            setSize(Number(event.target.value))\r\n            store.dispatch(setSizeText(Number(event.target.value)))\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <div className={styles.header_layout}>\r\n                <div className={styles.header}>Text Properties</div>\r\n                <div className={styles.image_wrap} onClick={() => { \r\n                    props.setViewEditor({ view: false, state: '' })\r\n                    store.dispatch(setSelectElement(null)) \r\n                }}>\r\n                    <img className={styles.image} src=\"images/close.png\" />\r\n                </div>\r\n            </div>\r\n            <div className={styles.style_wrap} onClick={() => { props.setViewEditor({ view: true, state: 'FontChoose' }) }}>\r\n                <div className={styles.font} style={{ fontFamily: (object !== null && isText(object)) ? object.font : 'error' }}>{(object !== null && isText(object)) ? object.font : 'error'}</div>\r\n                <img className={styles.arrow} src=\"images/arrow_right.png\" />\r\n            </div>\r\n            <div className={styles.layout}>\r\n                <div className={styles.px}>px</div>\r\n                <input className={styles.size_value} maxLength={5} type=\"text\" value={sizeText} onChange={handleChangeFontSize} />\r\n                <div\r\n                    className={styles.color}\r\n                    style={{\r\n                        backgroundColor: (object !== null && isText(object)) ? object.color : 'error',\r\n                        position: 'relative'\r\n                    }}\r\n                    onClick={() => { setIsComponentVisible(true) }}\r\n                >\r\n                    <span className={styles.color_triangle}></span>\r\n                </div>\r\n                <div className={styles.button_wrap} onClick={() => store.dispatch(deleteSelectElement())}>\r\n                    <img className={styles.button} src=\"images/bin.png\" />\r\n                </div>\r\n            </div>\r\n            <div ref={ref} className={(() => { return isComponentVisible ? styles.pickerWrap : '' })()} >\r\n                {isComponentVisible && <ColorPicker\r\n                    color={(object !== null && isText(object)) ? object.color : 'error'}\r\n                    function={setColorText}\r\n                />}\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, { MutableRefObject, useRef } from 'react'\r\nimport { setFontText } from '../../../store/actionCreators/TextActionCreators'\r\nimport { store } from '../../../store/store'\r\nimport { Element } from '../../../utils/types'\r\nimport styles from './ButtonFont.module.css'\r\n\r\ninterface ButtonFontPropsType {\r\n    selectElement: Element | null,\r\n    font: string,\r\n    selectFont: string;\r\n    setFont: (font: string) => void,\r\n}\r\n\r\nexport function ButtonFont(props: ButtonFontPropsType) {\r\n    const ref: MutableRefObject<HTMLDivElement | null> = useRef(null)\r\n    const style = () => { return props.font == props.selectFont ? styles.selected : '' }\r\n    return (\r\n        <div ref={ref} className={styles.wrap + ' ' + style()} style={{ fontFamily: props.font }} onClick={() => {\r\n            store.dispatch(setFontText(props.font))\r\n        }}\r\n        >\r\n            <div className={styles.text} >{props.font}</div>\r\n        </div>\r\n    )\r\n}","export const fonts: Array<string> = [\r\n    'Abel',\r\n    'Abril Fatface', \r\n    'Alegreya',\r\n    'Alfa Slab One',\r\n    'ALGERIAN',\r\n    'Allerta Stencil',\r\n    'Amatic SC',\r\n    'Amita',\r\n    'Anonymous Pro',\r\n    'Anton',\r\n    'Architects Daughter',\r\n    'Arial',\r\n    'Arima Madurai',\r\n    'Arizonia',\r\n    'Averia Serif Libre',\r\n    'Bad Script',\r\n    'Bahianita',\r\n    'BEBAS NEUE',\r\n    'Bellota',\r\n    'Berkshire Swash',\r\n    'Bigelow Rules',\r\n    'Boogaloo',\r\n    'Bowlby One',\r\n    'Brush Script MT',\r\n    'BUNGEE',\r\n    'BUNGEE SHADE',\r\n    'BUTCHERMAN',\r\n    'Butterfly Kids',\r\n    'Cabin',\r\n    'Cairo',\r\n    'Calibri',\r\n    'Calisto MT',\r\n    'Cambria',\r\n    'Candal',\r\n    'Caveat',\r\n    'Chango',\r\n    'Charmonman',\r\n    'Chewy',\r\n    'Chilanka',\r\n    'Chiller',\r\n    'CINZEL',\r\n    'CINZEL DECORATIVE',\r\n    'Coiny',\r\n    'Colonna MT',\r\n    'Comfortaa',\r\n    'Comic Sans MS',\r\n    'Concert One',\r\n    'Cookie',\r\n    'Cormorant Unicase',\r\n    'Courier New',\r\n    'CREEPSTER',\r\n    'Croissant One',\r\n    'Cutive Mono',\r\n    'Dancing Script',\r\n    'Darker Grotesque',\r\n    'Didact Gothic',\r\n    'Domine',\r\n    'Dosis',\r\n    'Economica',\r\n    'Eczar',\r\n    'Elsie Swash Caps',\r\n    'Emblema One',\r\n    'Englebert',\r\n    'Euphoria Script',\r\n    'Exo',\r\n    'Exo 2',\r\n    'Fahkwang',\r\n    'Fjalla One',\r\n    'Franklin Gothic',\r\n    'Fredericka the Great',\r\n    'Fredoka One',\r\n    'Fugaz One',\r\n    'Galada',\r\n    'Garamond',\r\n    'Georgia',\r\n    'Gill Sans MT',\r\n    'Gothic Ultra',\r\n    'Goudy Old Style',\r\n    'Graduate',\r\n    'Grand Hotel',\r\n    'Gravitas One',\r\n    'Gruppo',\r\n    'Handlee',\r\n    'Harrington',\r\n    'Heebo',\r\n    'Helvetica',\r\n    'Hind',\r\n    'Homemade Apple',\r\n    'Impact',\r\n    'Indie Flower',\r\n    'Jokerman',\r\n    'Josefin Sans',\r\n    'Josefin Slab',\r\n    'JULIUS SANS ONE',\r\n    'Jura',\r\n    'Just Another Hand',\r\n    'Just Me Again Down Here',\r\n    'Kalam',\r\n    'Kameron',\r\n    'Karla',\r\n    'Khand',\r\n    'Krona One',\r\n    'La Belle Aurore',\r\n    'Lato',\r\n    'Lexend Exa',\r\n    'Libre Baskerville',\r\n    'Life Savers',\r\n    'Lily Script One',\r\n    'Limelight',\r\n    'Lobster',\r\n    'Lobster Two',\r\n    'Londrina Outline',\r\n    'Londrina Solid',\r\n    'Lora',\r\n    'Lucida Sans',\r\n    'LUCKIEST GUY',\r\n    'Maiden Orange',\r\n    'Marvel',\r\n    'Medula One',\r\n    'MEGRIM',\r\n    'MONOTON',\r\n    'Montserrat',\r\n    'Montserrat Alternates',\r\n    'Mountains of Christmas',\r\n    'Mulish',\r\n    'Nixie One',\r\n    'Nothing You Could Do',\r\n    'Nova Cut',\r\n    'Numans',\r\n    'Nunito',\r\n    'Old Standard TT',\r\n    'Oleo Script',\r\n    'Open Sans',\r\n    'Open Sans Condensed',\r\n    'Oranienbaum',\r\n    'Orbitron',\r\n    'Oswald',\r\n    'Overlock',\r\n    'Oxygen',\r\n    'Papyrus',\r\n    'Passion One',\r\n    'Pathway Gothic One',\r\n    'Pavanam',\r\n    'Paytone One',\r\n    'Permanent Marker',\r\n    'Petit Formal Script',\r\n    'Playball',\r\n    'Playfair Display',\r\n    'Poller One',\r\n    'Poppins',\r\n    'Prata',\r\n    'Quattrocento',\r\n    'Questrial',\r\n    'Quicksand',\r\n    'Racing Sans One',\r\n    'Raleway',\r\n    'Rammetto One',\r\n    'Ravi Prakash',\r\n    'Red Hat Display',\r\n    'Righteous',\r\n    'Roboto',\r\n    'Roboto Mono',\r\n    'Roboto Slab',\r\n    'Rock Salt',\r\n    'Rokkitt',\r\n    'RUBIK MONO ONE',\r\n    'Shadows Into Light',\r\n    'Shrikhand',\r\n    'SIGMAR ONE',\r\n    'Slabo 27px',\r\n    'Slackey',\r\n    'Smokum',\r\n    'Sofia',\r\n    'Source Code Pro',\r\n    'Spicy Rice',\r\n    'Stint Ultra Expanded',\r\n    'SYNCOPATE',\r\n    'Tahoma',\r\n    'Teko',\r\n    'Tenor Sans',\r\n    'Times New Roman',\r\n    'Trebuchet MS',\r\n    'Ubuntu',\r\n    'Ultra',\r\n    'Underdog',\r\n    'unica one',\r\n    'Varela',\r\n    'Varela Round',\r\n    'Vast Shadow',\r\n    'Verdana',\r\n    'Vidaloka',\r\n    'Vollkorn',\r\n    'Wide Latin',\r\n    'Wire One',\r\n    'Work Sans',\r\n    'Yantramanav',\r\n    'Yatra One',\r\n    'Yellowtail',\r\n]","import React, { useState } from 'react'\r\nimport { uuid } from 'uuidv4'\r\nimport { store } from '../../../store/store'\r\nimport { ButtonFont } from './ButtonFont'\r\nimport styles from './FontChoose.module.css'\r\nimport { fonts } from './fonts'\r\n\r\ninterface FontChoosePropsType {\r\n    setViewEditor: (viewEditor: { view: boolean, state: string }) => void,\r\n    font: string,\r\n    setFont: (font: string) => void,\r\n    setNotification: (viewResize: boolean) => void,\r\n}\r\n\r\nexport function FontChoose(props: FontChoosePropsType) {\r\n    const [value, setValue] = useState('')\r\n    const fonts_elem: Array<JSX.Element> = fonts.map(function (font) {\r\n        return <ButtonFont \r\n                key={uuid()} \r\n                font={font} \r\n                selectFont={props.font} \r\n                setFont={props.setFont} \r\n                selectElement={store.getState().canvas.selectElement} \r\n            />\r\n    })\r\n    function handleChangeFont(event: React.ChangeEvent<HTMLInputElement>) {\r\n        setValue(event.target.value)\r\n    }\r\n    return (\r\n        <div>\r\n            <div className={styles.header_layout}>\r\n                <div className={styles.back_wrap} onClick={() => { props.setViewEditor({ view: true, state: 'Text Properties' }) }}>\r\n                    <img className={styles.back} src=\"images/arrow_left.png\" />\r\n                </div>\r\n                <div className={styles.header}>Choose a Font</div>\r\n            </div>\r\n\r\n            <div className={styles.search}>\r\n                <img className={styles.search_image} src=\"images/search.png\" />\r\n                <input className={styles.search_input} type=\"text\" placeholder=\"Search Fonts\" onChange={handleChangeFont} onFocus={() => {\r\n                    props.setNotification(true)\r\n                    props.setViewEditor({view: true, state: 'Text Properties'})\r\n                }} />\r\n            </div>\r\n\r\n            <div className={styles.header_font}>Selected Font</div>\r\n            <ButtonFont font={props.font} selectFont={props.font} setFont={props.setFont} selectElement={store.getState().canvas.selectElement} />\r\n\r\n            <div className={styles.header_font}>All Fonts</div>\r\n            <div className={styles.fonts}>\r\n                {fonts_elem}\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React from 'react'\r\nimport { uuid } from 'uuidv4'\r\nimport { addImage } from '../../../store/actionCreators/ImageActionCreators'\r\nimport { store } from '../../../store/store'\r\nimport styles from './CollectionOfStickers.module.css'\r\n\r\ninterface CollectionOfStickersPropsType {\r\n    stickersName: string,\r\n}\r\n\r\nexport function CollectionOfStickers(props: CollectionOfStickersPropsType) {\r\n    let stickers: Array<JSX.Element> = []\r\n    const pushImage = () => {\r\n        for (let i = 1; i <= 20; i++) {\r\n            let path: string = \"stickers/\" + props.stickersName + \"/\" + i + \".png\"\r\n            stickers.push(\r\n                <img key={uuid()} className={styles.sticker} src={path} onClick={() => {\r\n                    store.dispatch(addImage(path, {width: 128, height: 128}))\r\n                }} />\r\n            )\r\n        }\r\n    }\r\n    pushImage()\r\n    return(\r\n        <div>\r\n            <div className={styles.stickers}>\r\n                {stickers}\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, { useState } from 'react'\r\nimport { CollectionOfStickers } from './CollectionOfStickers'\r\nimport styles from './Stickers.module.css'\r\n\r\ninterface StickersPropsType {\r\n    stickersName: string,\r\n}\r\n\r\nexport function Stickers(props: StickersPropsType) {\r\n    const [viewStickers, setViewStickers] = useState(false)\r\n    const [arrow, setArrow] = useState('arrow_down')\r\n    const getHeader = () => {\r\n        let header = props.stickersName[0]\r\n        const digits = ['1', '2', '3', '4', '5', '6', '7', '8', '9', '0']\r\n        if (digits.includes(header)) {\r\n            return props.stickersName\r\n        }\r\n        for (let i = 1; i < props.stickersName.length; i++) {\r\n            if (props.stickersName[i].toUpperCase() == props.stickersName[i]) {\r\n                header += ' ' + props.stickersName[i]\r\n            } else {\r\n                header += props.stickersName[i]\r\n            }\r\n        }\r\n        return header\r\n    }\r\n    return(\r\n        <div>\r\n            <div className={styles.popup} onClick={() => {\r\n                if (viewStickers) {\r\n                    setViewStickers(false)\r\n                    setArrow('arrow_down')\r\n                } else {\r\n                    setViewStickers(true)\r\n                    setArrow('arrow_up')\r\n                }\r\n            }}>\r\n                <div className={styles.subheader}>{getHeader()}</div>\r\n                <img className={styles.img} src={\"images/\" + arrow + \".png\"}/>\r\n            </div>\r\n            { viewStickers && <CollectionOfStickers stickersName={props.stickersName} />}\r\n        </div>\r\n    )\r\n}","import React from 'react'\r\nimport { uuid } from 'uuidv4'\r\nimport { Stickers } from './Stickers'\r\nimport styles from './StickersManager.module.css'\r\n\r\nconst stickersName = [\r\n    '4x4',\r\n    'Birthday',\r\n    'Christmas',\r\n    'ChristmasAnimals',\r\n    'CuteAxolotl',\r\n    'Expressions',\r\n    'Hallowen',\r\n    'Numbers',\r\n    'SantaClaus',\r\n    'Universe'\r\n]\r\n\r\nexport function StickersManager() {\r\n    const stickers = []\r\n    for (let i = 0; i < stickersName.length; i++) {\r\n        stickers.push(\r\n            <Stickers key={uuid()} stickersName={stickersName[i]} />\r\n        )\r\n    }\r\n    return(\r\n        <div>\r\n            <div className={styles.header}>Stickers</div>\r\n            <div className={styles.stickers}>\r\n                {stickers}\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, { MutableRefObject, useState } from 'react'\r\nimport styles from './Editor.module.css'\r\nimport { ImageManager } from './ImageManager/ImageManager'\r\nimport { Customize } from './Customize/Customize'\r\nimport { Templates } from './Templates/Templates'\r\nimport { Graphics } from './Graphics/Graphics'\r\nimport { Text } from './Text/Text'\r\nimport { FigureProperties } from './FigureProperties/FigurePropeties'\r\nimport { TextProperties } from './TextProperties/TextProperties'\r\nimport { FontChoose } from './FontChoose/FontChoose'\r\nimport { StickersManager } from './StickersManager/StickersManager'\r\n\r\ninterface EditorPropsType {\r\n    stateViewEditor: {\r\n        viewEditor: {\r\n            view: boolean,\r\n            state: string,\r\n        },\r\n        setViewEditor: (viewEditor: { view: boolean, state: string }) => void,\r\n    }\r\n    setViewResize: (viewResize: boolean) => void,\r\n    setNotification: (viewResize: boolean) => void,\r\n    refEditor: MutableRefObject<HTMLDivElement | null>,\r\n    setSizeInsertImage: (insertImage: { image: { size: { width: number, height: number }, url: string }, view: boolean }) => void,\r\n    setSizeSelectElement: (size: { width: number, height: number }) => void,\r\n}\r\n\r\n\r\nexport function Editor(props: EditorPropsType) {\r\n    const [font, setFont] = useState('Times New Roman')\r\n    const State: JSX.Element | undefined = (() => {\r\n        if (props.stateViewEditor.viewEditor.state == 'Image Manager') {\r\n            return <ImageManager setSizeInsertImage={props.setSizeInsertImage} setNotification={props.setNotification} />\r\n        }\r\n        if (props.stateViewEditor.viewEditor.state == 'Customize') {\r\n            return <Customize setViewResize={props.setViewResize} />\r\n        }\r\n        if (props.stateViewEditor.viewEditor.state == 'Templates') {\r\n            return <Templates setNotification={props.setNotification} />\r\n        }\r\n        if (props.stateViewEditor.viewEditor.state == 'Graphics') {\r\n            return <Graphics setViewEditor={props.stateViewEditor.setViewEditor} />\r\n        }\r\n        if (props.stateViewEditor.viewEditor.state == 'Text') {\r\n            return <Text />\r\n        }\r\n        if (props.stateViewEditor.viewEditor.state == 'Figure Properties') {\r\n            return <FigureProperties setViewEditor={props.stateViewEditor.setViewEditor} />\r\n        }\r\n        if (props.stateViewEditor.viewEditor.state == 'Text Properties') {\r\n            return <TextProperties\r\n                setViewEditor={props.stateViewEditor.setViewEditor}\r\n                font={font}\r\n            />\r\n        }\r\n        if (props.stateViewEditor.viewEditor.state == 'FontChoose') {\r\n            return <FontChoose\r\n                setViewEditor={props.stateViewEditor.setViewEditor}\r\n                font={font}\r\n                setFont={setFont}\r\n                setNotification={props.setNotification}\r\n            />\r\n\r\n        }\r\n        if (props.stateViewEditor.viewEditor.state == 'Stickers') {\r\n            return <StickersManager />\r\n        }\r\n    })()\r\n    return (\r\n        <div className={styles.editor} ref={props.refEditor} style={{ display: (() => { return props.stateViewEditor.viewEditor ? 'block' : 'none' })() }}>\r\n            {State}\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n\r\n","import React, { useState } from 'react'\r\nimport styles from './Button.module.css'\r\n\r\ninterface ButtonPropsType {\r\n    content: string,\r\n    background: Array<string>,\r\n    color: string,\r\n    onclick: (value: boolean) => void,\r\n}\r\n\r\nexport function Button(props: ButtonPropsType) {\r\n    const [background, setBackground] = useState(props.background[0])\r\n\r\n    const mouseOutHandler = (event: React.MouseEvent<HTMLDivElement>) => {\r\n        setBackground(props.background[0])\r\n    };\r\n    const mouseOverHandler = (event: React.MouseEvent<HTMLDivElement>) => {\r\n        setBackground(props.background[1])\r\n    };\r\n\r\n    return (\r\n        <div className={styles.wrap}\r\n            style={{ background: background }}\r\n            onMouseOver={mouseOverHandler}\r\n            onMouseOut={mouseOutHandler}\r\n            onClick={() => {\r\n                props.onclick(false)\r\n            }}>\r\n            <div className={styles.text} style={{ color: props.color }}>{props.content}</div>\r\n        </div>\r\n    )\r\n}","import { format } from 'path'\r\nimport React, { createRef, MutableRefObject, RefObject, useCallback, useEffect, useState } from 'react'\r\nimport { store } from '../../../store/store'\r\nimport { isEllipse, isFigure, isImage, isRectangle, isText, isTriangle } from '../../../utils/typeGuards'\r\nimport { Canvas, Element, Ellipse, Image as ImageType, Point, Rectangle, Size, Text, Triangle } from '../../../utils/types'\r\nimport { Button } from './Button'\r\nimport styles from './SaveComputer.module.css'\r\n\r\ninterface SaveComputerPropsType {\r\n    setView: (view: boolean) => void,\r\n}\r\n\r\nexport function SaveComputer(props: SaveComputerPropsType) {\r\n    const refCanvas: RefObject<HTMLCanvasElement> = createRef()\r\n    const refInput: RefObject<HTMLInputElement> = createRef()\r\n    const refButton: RefObject<HTMLAnchorElement> = createRef()\r\n    const [format, setFormat] = useState('JPEG')\r\n    const [fileName, setFileName] = useState('')\r\n    const [boxShadow, setBoxShadow] = useState('none')\r\n\r\n    const isJpg = () => {\r\n        return format == 'JPEG' ? styles.format_selected : ''\r\n    }\r\n    const isPng = () => {\r\n        return format == 'PNG' ? styles.format_selected : ''\r\n    }\r\n\r\n    const escFunction = useCallback((event) => {\r\n        if (event.keyCode === 27) {\r\n            props.setView(false)\r\n        }\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        document.addEventListener(\"keydown\", escFunction, false);\r\n        return () => {\r\n            document.removeEventListener(\"keydown\", escFunction, false);\r\n        };\r\n    }, []);\r\n\r\n    const canvasModel: Canvas = store.getState().canvas\r\n\r\n    const handleSetFileName = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n        setFileName(event.target.value)\r\n    }\r\n\r\n    const handleFocusInput = () => {\r\n        setBoxShadow('0 0 0 2px #424284')\r\n    }\r\n\r\n    const handleFocusOutInput = () => {\r\n        setBoxShadow('none')\r\n    }\r\n\r\n    return (\r\n        <div className={styles.modal_window}>\r\n            <div className={styles.content_layout}>\r\n                <div className={styles.header}>Save to Computer</div>\r\n                <label className={styles.subHeader}>Filename</label>\r\n                <input\r\n                    ref={refInput}\r\n                    className={styles.input}\r\n                    style={{\r\n                        boxShadow: boxShadow\r\n                    }}\r\n                    onFocus={handleFocusInput}\r\n                    onBlur={handleFocusOutInput}\r\n                    type=\"text\" maxLength={100}\r\n                    required\r\n                    placeholder=\"Назови меня!\"\r\n                    onChange={handleSetFileName}\r\n                />\r\n                <label className={styles.subHeader}>Format</label>\r\n                <div className={styles.format}>\r\n                    <div className={styles.format__buttonWrap + ' ' + styles.format__buttonJPG + ' ' + isJpg()} onClick={() => { setFormat('JPEG') }}>\r\n                        <div>JPG</div>\r\n                    </div>\r\n                    <div className={styles.format__buttonWrap + ' ' + styles.format__buttonPNG + ' ' + isPng()} onClick={() => { setFormat('PNG') }}>\r\n                        <div>PNG</div>\r\n                    </div>\r\n                </div>\r\n                <a ref={refButton} className={styles.subHeader}>Dimensions</a>\r\n                <div className={styles.canvasSize}>{store.getState().canvas.size.width} × {store.getState().canvas.size.height} px</div>\r\n                <div className={styles.button_layout}>\r\n                    <Button content={\"Close\"} background={[\"#353948\", \"#484d61\"]} color={\"#f1f1f1\"} onclick={props.setView} />\r\n                    <Button content={\"Save\"} background={[\"#8a9dff\", \"#647dff\"]} color={\"#000\"} onclick={() => {\r\n                        if (fileName) {\r\n                            saveCanvas(refCanvas.current, canvasModel.elements, canvasModel.background, canvasModel.size, format, fileName)\r\n                            setBoxShadow('0 0 0 2px #424284')\r\n                        } else {\r\n                            const input = refInput.current\r\n                            if (input) {\r\n                                input.focus()\r\n                                setBoxShadow('0 0 0 2px #FF0000')\r\n                            }\r\n                        } \r\n                    } }/>\r\n                </div>\r\n            </div>\r\n            <canvas\r\n                ref={refCanvas}\r\n                width={canvasModel.size.width}\r\n                height={canvasModel.size.height}\r\n                style={{\r\n                    display: \"none\"\r\n                }}\r\n            >\r\n            </canvas>\r\n        </div>\r\n    )\r\n}\r\n\r\nasync function saveCanvas(canvas: HTMLCanvasElement | null, elements: Array<Element>, background: string, size: Size, format: string, name: string) {\r\n    if (canvas !== null) {\r\n        const ctx = canvas.getContext(\"2d\")\r\n        if (ctx !== null) {\r\n            drawBackground(ctx, background, size)\r\n            let element: Element\r\n            for (element of elements) {\r\n                if (isFigure(element.object)) {\r\n                    if (isTriangle(element.object.figure)) {\r\n                        drawTriangle(ctx, element.object.figure, element.object.color)\r\n                    }\r\n                    if (isRectangle(element.object.figure)) {\r\n                        drawRectangle(ctx, element.object.figure, element.object.color, element.centre)\r\n                    }\r\n                    if (isEllipse(element.object.figure)) {\r\n                        drawEllipse(ctx, element.object.figure, element.object.color, element.centre)\r\n                    }\r\n                }\r\n                if (isImage(element.object)) {\r\n                    await drawImage(ctx, element.object, element.centre)\r\n                }\r\n                if (isText(element.object)) {\r\n                    drawText(ctx, element.centre, element.object)\r\n                }\r\n            }\r\n            const url = canvas.toDataURL(\"image/\" + format.toLowerCase())\r\n            const download = document.createElement(\"a\")\r\n            download.href = url\r\n            download.download = name\r\n            download.click()\r\n        }\r\n    }\r\n}\r\n\r\nfunction drawBackground(context: any, background: string, size: Size) {\r\n    context.fillStyle = background\r\n    context.fillRect(0, 0, size.width, size.height)\r\n}\r\n\r\nfunction drawTriangle(context: any, triangle: Triangle, color: string) {\r\n    context.beginPath()\r\n    context.moveTo(triangle.firstPoint.x, triangle.firstPoint.y)\r\n    context.lineTo(triangle.secondPoint.x, triangle.secondPoint.y)\r\n    context.lineTo(triangle.thirdPoint.x, triangle.thirdPoint.y)\r\n    context.fillStyle = color\r\n    context.fill()\r\n}\r\n\r\nfunction drawRectangle(context: any, rectangle: Rectangle, color: string, centre: Point) {\r\n    context.fillStyle = color\r\n    context.fillRect(centre.x, centre.y, rectangle.size.width, rectangle.size.height)\r\n}\r\n\r\nfunction drawEllipse(context: any, ellipse: Ellipse, color: string, centre: Point) {\r\n    context.fillStyle = color\r\n    context.beginPath()\r\n    context.ellipse(centre.x + ellipse.rx, centre.y + ellipse.ry, ellipse.rx, ellipse.ry, 0, 0, 2 * Math.PI)\r\n    context.fill()\r\n}\r\n\r\nasync function drawImage(context: any, imageFromModel: ImageType, centre: Point) {\r\n    const image: HTMLImageElement = new Image()\r\n    image.src = imageFromModel.url\r\n    await image.decode()\r\n    context.drawImage(image, centre.x, centre.y, imageFromModel.size.width, imageFromModel.size.height)\r\n}\r\n\r\nfunction drawText(context: any, centre: Point, text: Text) {\r\n    context.font = \"\" + text.fontSize + \"px \" + text.font\r\n    context.fillStyle = text.color\r\n    context.fillText(text.str, centre.x, centre.y)\r\n}","import React from 'react'\r\nimport styles from './Button.module.css'\r\n\r\ninterface ButtonPropsType {\r\n    name: string,\r\n    width: number,\r\n    height: number,\r\n    setSize: {\r\n        setWidth: (width: number) => void,\r\n        setHeight: (heigth: number) => void,\r\n    },\r\n    setViewList: (view: string) => void,\r\n}\r\n\r\nexport function Button(props: ButtonPropsType) {\r\n    return (\r\n        <div className={styles.wrap} onClick={() => {\r\n            props.setSize.setWidth(props.width)\r\n            props.setSize.setHeight(props.height)\r\n            props.setViewList(styles.viewOff)\r\n        }}>\r\n            <div className={styles.name}>{props.name}</div>\r\n            <div className={styles.size}>{props.width} × {props.height}px</div>\r\n        </div>\r\n    )\r\n}","export const fonts = [\r\n    { name: \"Presentation (4:3)\", size_width: 1024, size_height: 768, },\r\n    { name: \"Presentation (16:9)\", size_width: 1920, size_height: 1080, },\r\n    { name: \"Social Media Story\", size_width: 1080, size_height: 1920, },\r\n    { name: \"Instagram Post\", size_width: 1080, size_height: 1080, },\r\n    { name: \"Facebook Post\", size_width: 1200, size_height: 1200, },\r\n    { name: \"Facebook Cover / Page Cover\", size_width: 1702, size_height: 630, },\r\n    { name: \"Facebook Event Cover\", size_width: 1920, size_height: 1080, },\r\n    { name: \"YouTube Channel Art\", size_width: 2560, size_height: 1440, },\r\n    { name: \"YouTube Thumbnail\", size_width: 1280, size_height: 720, },\r\n    { name: \"Twitter Post\", size_width: 1200, size_height: 675, },\r\n    { name: \"Twitter Header\", size_width: 1500, size_height: 500, },\r\n    { name: \"Pinterest Pin\", size_width: 1000, size_height: 1500, },\r\n    { name: \"Etsy Big Banner\", size_width: 3360, size_height: 840, },\r\n    { name: \"Etsy Mini Banner\", size_width: 3360, size_height: 448, },\r\n    { name: \"Etsy Order Receipt Banner\", size_width: 760, size_height: 100, },\r\n]","import React, { useCallback, useEffect, useState } from 'react'\r\nimport { setSizeCanvas } from '../../../store/actionCreators/CanvasActionCreators'\r\nimport { store } from '../../../store/store'\r\nimport { Button as SaveButton } from '../SaveComputer/Button'\r\nimport { Button } from './Button'\r\nimport { fonts } from './fonts'\r\nimport styles from './ResizeTemplate.module.css'\r\n\r\ninterface ResizeTemplatePropsType {\r\n    setView: (view: boolean) => void,\r\n}\r\n\r\nexport function ResizeTemplate(props: ResizeTemplatePropsType) {\r\n    const [width, setWidth] = useState(store.getState().canvas.size.width)\r\n    const [height, setHeight] = useState(store.getState().canvas.size.height)\r\n    const [viewList, setViewList] = useState(styles.viewOff)\r\n\r\n    const font = fonts.find(font => (font.size_height == height && font.size_width == width))\r\n    let font_name\r\n    if (font === undefined) {\r\n        font_name = \"Freeform\"\r\n    } else {\r\n        font_name = font.name\r\n    }\r\n\r\n    const buttons = fonts.map(function (font, index) {\r\n        return <Button\r\n            key={index}\r\n            name={font.name}\r\n            width={font.size_width}\r\n            height={font.size_height}\r\n            setSize={{ setWidth, setHeight }}\r\n            setViewList={setViewList}\r\n        />\r\n    })\r\n\r\n    const escFunction = useCallback((event) => {\r\n        if (event.keyCode === 27) {\r\n            props.setView(false)\r\n        }\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        document.addEventListener(\"keydown\", escFunction, false)\r\n\r\n        return () => {\r\n            document.removeEventListener(\"keydown\", escFunction, false)\r\n        }\r\n    }, [])\r\n\r\n    const digits = ['1', '2', '3', '4', '5', '6', '7', '8', '9', '0']\r\n    function handleChangeWidth(event: React.ChangeEvent<HTMLInputElement>) {\r\n        if (digits.includes(event.target.value.slice(-1))) {\r\n            setWidth(Number(event.target.value))\r\n        }\r\n    }\r\n    function handleChangeHeight(event: React.ChangeEvent<HTMLInputElement>) {\r\n        if (digits.includes(event.target.value.slice(-1))) {\r\n            setHeight(Number(event.target.value))\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className={styles.wrap}>\r\n            <div className={styles.headerWrap}>\r\n                <div className={styles.header}>Resize Template</div>\r\n            </div>\r\n            <div className={styles.content_layout}>\r\n                <label className={styles.subHeader}>Template Size Presets</label>\r\n                <div className={styles.font_family} onClick={() => {\r\n                    return viewList == styles.viewOn ? setViewList(styles.viewOff) : setViewList(styles.viewOn)\r\n                }}>\r\n                    <div className={styles.font_layout}>\r\n                        <div className={styles.font_name}>\r\n                            {font_name}\r\n                        </div>\r\n                        <div className={styles.size_layout}>\r\n                            <div className={styles.font_size}>\r\n                                {width} × {height} px\r\n                            </div>\r\n                            <img className={styles.img} src=\"images/arrow_down.png\" />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className={styles.font_list + ' ' + viewList}>\r\n                    <div className={styles.buttons_layout}>\r\n                        {buttons}\r\n                    </div>\r\n                </div>\r\n                <div className={styles.sizes}>\r\n                    <div className={styles.size}>\r\n                        <div className={styles.px_layout}>\r\n                            <div className={styles.size_header}>Width </div>\r\n                            <div className={styles.px_w}>px</div>\r\n                        </div>\r\n                        <input className={styles.size_value}  maxLength={5} type=\"text\" value={width} onChange={handleChangeWidth}/>\r\n                    </div>\r\n                    <div className={styles.size}>\r\n                        <div className={styles.px_layout}>\r\n                            <div className={styles.size_header}>Height</div>\r\n                            <div className={styles.px_h}>px</div>\r\n                        </div>\r\n                        <input className={styles.size_value} maxLength={5} type=\"text\" value={height} onChange={handleChangeHeight} />\r\n                    </div>\r\n                </div>\r\n                <div className={styles.buttonLayout}>\r\n                    <SaveButton content={\"Cancel\"} background={[\"#353948\", \"#484d61\"]} color={\"#f1f1f1\"} onclick={props.setView} />\r\n                    <SaveButton content={\"Resize\"} background={[\"#8a9dff\", \"#647dff\"]} color={\"#000\"} onclick={() => {\r\n                        store.dispatch(setSizeCanvas({ width: width, height: height }))\r\n                        props.setView(false)\r\n                    }} />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, { useCallback, useEffect } from 'react'\r\nimport { initialCard } from '../../../store/actionCreators/CardActionCreators';\r\nimport { store } from '../../../store/store';\r\nimport { Button } from '../SaveComputer/Button'\r\nimport styles from './ResetCanvas.module.css'\r\n\r\ninterface ResetCanvasPropsType {\r\n    setView: (view: boolean) => void,\r\n    stateViewEditor: {\r\n        viewEditor: { view: boolean, state: string },\r\n        setViewEditor: (viewEditor: { view: boolean, state: string }) => void,\r\n    }\r\n}\r\n\r\nexport function ResetCanvas(props: ResetCanvasPropsType) {\r\n\r\n    const escFunction = useCallback((event) => {\r\n        if (event.keyCode === 27) {\r\n            props.setView(false)\r\n        }\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        document.addEventListener(\"keydown\", escFunction, false);\r\n\r\n        return () => {\r\n            document.removeEventListener(\"keydown\", escFunction, false);\r\n        };\r\n    }, []);\r\n\r\n    return (\r\n        <div className={styles.wrap}>\r\n            <div className={styles.content_layout}>\r\n                <div className={styles.text}>\r\n                    You're about to start a new project. \r\n                    Your current project will be cleared and all unsaved changes will be a lost. \r\n                    Are you sure you woud like to continue?\r\n                </div>\r\n                <div className={styles.button_layout}>\r\n                    <Button content={\"No\"} background={[\"#353948\", \"#484d61\"]} color={\"#f1f1f1\"} onclick={props.setView} />\r\n                    <Button content={\"Yes\"} background={[\"#8a9dff\", \"#647dff\"]} color={\"#000\"} onclick={() => {\r\n                        store.dispatch(initialCard())\r\n                        props.setView(false)\r\n                        if (props.stateViewEditor.viewEditor.view) {\r\n                            props.stateViewEditor.setViewEditor({view: true, state: 'Customize'})\r\n                        }\r\n                    }} />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}","export function initialCard() {\r\n    return {\r\n        type: 'INITIAL_CARD'\r\n    }\r\n}","import React from 'react'\r\nimport styles from './InsertImage.module.css'\r\nimport { Button } from '../SaveComputer/Button'\r\nimport { store } from '../../../store/store'\r\nimport { addImage } from '../../../store/actionCreators/ImageActionCreators'\r\nimport { setSizeCanvas } from '../../../store/actionCreators/CanvasActionCreators'\r\n\r\ninterface InsertImagePropsType {\r\n    stateSizeInsertImage: {\r\n        sizeInsertImage: {image: {size: {width: number, height: number}, url: string}, view: boolean},\r\n        setSizeInsertImage: (insertImage: {image: {size: {width: number, height: number}, url: string}, view: boolean}) => void,\r\n    }\r\n}\r\n\r\nexport function InsertImage(props: InsertImagePropsType) {\r\n    return (\r\n        <div className={styles.wrap}>\r\n            <div className={styles.content_layout}>\r\n                <div className={styles.text}>\r\n                    The picture you want to insert is larger than the size of your canvas.\r\n                    Choose what you need to do: <br/>\r\n                    •  increase the canvas to the size of the image<br/>\r\n                    •  save the canvas size <br/>\r\n                    •  cancel the insertion\r\n                </div>\r\n                <div className={styles.button_layout}>\r\n                    <Button content={\"Cancel\"} background={[\"#353948\", \"#484d61\"]} color={\"#f1f1f1\"} onclick={() => {\r\n                        props.stateSizeInsertImage.setSizeInsertImage({\r\n                            image: {size: props.stateSizeInsertImage.sizeInsertImage.image.size, url: ''}, \r\n                            view: false\r\n                        })\r\n                    }} />\r\n                    <Button content={\"Save\"} background={[\"#8a9dff\", \"#647dff\"]} color={\"#000\"} onclick={() => {\r\n                        store.dispatch(addImage( \r\n                            props.stateSizeInsertImage.sizeInsertImage.image.url, \r\n                            props.stateSizeInsertImage.sizeInsertImage.image.size\r\n                        ))\r\n                        props.stateSizeInsertImage.setSizeInsertImage({\r\n                            image: {size: props.stateSizeInsertImage.sizeInsertImage.image.size, url: ''}, \r\n                            view: false\r\n                        })\r\n                    }} />\r\n                    <Button content={\"Increase\"} background={[\"#8a9dff\", \"#647dff\"]} color={\"#000\"} onclick={() => {\r\n                        store.dispatch(setSizeCanvas(props.stateSizeInsertImage.sizeInsertImage.image.size))\r\n                        store.dispatch(addImage(\r\n                            props.stateSizeInsertImage.sizeInsertImage.image.url, \r\n                            props.stateSizeInsertImage.sizeInsertImage.image.size\r\n                        ))\r\n                        props.stateSizeInsertImage.setSizeInsertImage({\r\n                            image: {size: props.stateSizeInsertImage.sizeInsertImage.image.size, url: ''}, \r\n                            view: false\r\n                        })\r\n                    }} />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, { useCallback, useEffect } from 'react'\r\nimport { Button } from '../SaveComputer/Button';\r\nimport styles from './UnavailableContent.module.css'\r\n\r\ninterface UnavailableContentPropsType {\r\n    setView: (view: boolean) => void,\r\n}\r\n\r\nexport function UnavailableContent(props: UnavailableContentPropsType) {\r\n\r\n    const escFunction = useCallback((event) => {\r\n        if (event.keyCode === 27) {\r\n            props.setView(false)\r\n        }\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        document.addEventListener(\"keydown\", escFunction, false);\r\n\r\n        return () => {\r\n            document.removeEventListener(\"keydown\", escFunction, false);\r\n        };\r\n    }, []);\r\n\r\n    return (\r\n        <div className={styles.wrap}>\r\n            <div className={styles.content_layout}>\r\n                <div className={styles.text}>\r\n                This functionality is currently unavailable. The author apologizes for the inconvenience, please try again later.\r\n                </div>\r\n                <div className={styles.button_layout}>\r\n                    <Button content={\"Okey\"} background={[\"#8a9dff\", \"#647dff\"]} color={\"#000\"} onclick={() => {\r\n                        props.setView(false)\r\n                    }} />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, { createRef, RefObject, useCallback, useEffect, useState } from 'react'\r\nimport { store } from '../../../store/store'\r\nimport { Canvas } from '../../../utils/types'\r\nimport { Button } from './Button'\r\nimport styles from './SaveAsJSON.module.css'\r\n\r\ninterface SaveComputerPropsType {\r\n    setView: (view: boolean) => void,\r\n}\r\n\r\nexport function SaveAsJSON(props: SaveComputerPropsType) {\r\n    const refCanvas: RefObject<HTMLCanvasElement> = createRef()\r\n    const refInput: RefObject<HTMLInputElement> = createRef()\r\n    const [format, setFormat] = useState('JPEG')\r\n    const [fileName, setFileName] = useState('')\r\n    const [boxShadow, setBoxShadow] = useState('none')\r\n\r\n    const escFunction = useCallback((event) => {\r\n        if (event.keyCode === 27) {\r\n            props.setView(false)\r\n        }\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        document.addEventListener(\"keydown\", escFunction, false);\r\n        return () => {\r\n            document.removeEventListener(\"keydown\", escFunction, false);\r\n        };\r\n    }, []);\r\n\r\n    const canvasModel: Canvas = store.getState().canvas\r\n\r\n    const handleSetFileName = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n        setFileName(event.target.value)\r\n    }\r\n\r\n    const handleFocusInput = () => {\r\n        setBoxShadow('0 0 0 2px #424284')\r\n    }\r\n\r\n    const handleFocusOutInput = () => {\r\n        setBoxShadow('none')\r\n    }\r\n\r\n    return (\r\n        <div className={styles.modal_window}>\r\n            <div className={styles.content_layout}>\r\n                <div className={styles.header}>Save as JSON</div>\r\n                <label className={styles.subHeader}>Filename</label>\r\n                <input\r\n                    ref={refInput}\r\n                    className={styles.input}\r\n                    style={{\r\n                        boxShadow: boxShadow\r\n                    }}\r\n                    onFocus={handleFocusInput}\r\n                    onBlur={handleFocusOutInput}\r\n                    type=\"text\" maxLength={100}\r\n                    required\r\n                    placeholder=\"Назови меня!\"\r\n                    onChange={handleSetFileName}\r\n                />\r\n                <div className={styles.button_layout}>\r\n                    <Button content={\"Close\"} background={[\"#353948\", \"#484d61\"]} color={\"#f1f1f1\"} onclick={props.setView} />\r\n                    <Button content={\"Save\"} background={[\"#8a9dff\", \"#647dff\"]} color={\"#000\"} onclick={() => {\r\n                        if (fileName) {\r\n                            let dataStr = \"data:text/json;charset=utf-8,\" + encodeURIComponent(JSON.stringify(store.getState().canvas));\r\n                            let dlAnchorElem = document.createElement('a');\r\n                            dlAnchorElem.setAttribute(\"href\",     dataStr     );\r\n                            dlAnchorElem.setAttribute(\"download\", fileName + \".json\");\r\n                            dlAnchorElem.click();\r\n                            setBoxShadow('0 0 0 2px #424284')\r\n                        } else {\r\n                            const input = refInput.current\r\n                            if (input) {\r\n                                input.focus()\r\n                                setBoxShadow('0 0 0 2px #FF0000')\r\n                            }\r\n                        } \r\n                    } }/>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, { MutableRefObject, useEffect, useRef, useState } from 'react'\r\nimport styles from './Card.module.css'\r\nimport { CanvasTools } from './CanvasTools/CanvasTools'\r\nimport { NavigationBar } from './NavigationBar/NavigationBar'\r\nimport { PrimaryPanel } from './PrimaryPanel/PrimaryPanel'\r\nimport { Workspace } from './Workspace/Workspace'\r\nimport { Editor } from './Editor/Editor'\r\nimport { SaveComputer } from './PopupWindows/SaveComputer/SaveComputer'\r\nimport { ResizeTemplate } from './PopupWindows/ResizeTemplate/ResizeTemplate'\r\nimport { ResetCanvas } from './PopupWindows/ResetCanvas/ResetCanvas'\r\nimport { InsertImage } from './PopupWindows/InsertImage/InsertImage'\r\nimport { UnavailableContent } from './PopupWindows/UnavailableContent/UnavailableContent'\r\nimport { store } from '../store/store'\r\nimport { redo, undo } from '../store/actionCreators/HistoryActionCreators'\r\nimport { SaveAsJSON } from './PopupWindows/SaveComputer/SaveAsJSON'\r\n\r\nexport function Card() {\r\n    const refEditor: MutableRefObject<HTMLDivElement | null> = useRef(null)\r\n\r\n    const [viewSave, setViewSave] = useState(false)\r\n    const [viewResize, setViewResize] = useState(false)\r\n    const [viewReset, setViewReset] = useState(false)\r\n    const [viewNotification, setViewNotification] = useState(false)\r\n    const [viewEditor, setViewEditor] = useState({ view: false, state: '' })\r\n    const [viewSaveJSON, setViewSaveJSON] = useState(false)\r\n\r\n    const [sizeInsertImage, setSizeInsertImage] = useState({image: {size: {width: 0, height: 0}, url: ''}, view: false})\r\n    const [sizeSelectElement, setSizeSelectElement] = useState({ width: 0, height: 0 })\r\n    const [hoverPanel, setHoverPanel] = useState({\r\n        widthPanel: '55px',\r\n        workspaceMarginLeft: '0',\r\n        widthEditor: '0',\r\n        widthWorkspace: 'calc(100% - 55px)',\r\n        hoverImage: false,\r\n        displayButtonText: 'none',\r\n        widthButton: '44px',\r\n    })\r\n\r\n    const escFunction = (event: KeyboardEvent) => {\r\n        { event.ctrlKey && event.key === 'z' && (store.getState().history.undo.length - 1) && store.dispatch(undo())}\r\n        { event.ctrlKey && event.key === 'y' && store.getState().history.redo.length && store.dispatch(redo())}\r\n    }\r\n\r\n    useEffect(() => {\r\n        document.addEventListener(\"keydown\", escFunction)\r\n        return () => {\r\n            document.removeEventListener(\"keydown\", escFunction)\r\n        }\r\n    }, [])\r\n\r\n    return (\r\n        <div className={styles.card_size}>\r\n            <NavigationBar\r\n                stateHoverPanel={{ hoverPanel, setHoverPanel }}\r\n                setViewEditor={setViewEditor}\r\n                setViewSave={setViewSave}\r\n                setViewReset={setViewReset}\r\n                setSaveJSON={setViewSaveJSON}\r\n            />\r\n            <div className={styles.card__content}>\r\n                <PrimaryPanel\r\n                    stateHoverPanel={{ hoverPanel, setHoverPanel }}\r\n                    stateViewEditor={{ viewEditor, setViewEditor }}\r\n                />\r\n                <div className={styles.card__workspace} style={{ width: hoverPanel.widthWorkspace, marginLeft: hoverPanel.workspaceMarginLeft }}>\r\n                    <div className={(() => { return viewEditor.view ? styles.flex : styles.block })()}>\r\n                        <Editor\r\n                            refEditor={refEditor}\r\n                            stateViewEditor={{ viewEditor, setViewEditor }}\r\n                            setViewResize={setViewResize}\r\n                            setSizeInsertImage={setSizeInsertImage}\r\n                            setSizeSelectElement={setSizeSelectElement}\r\n                            setNotification={setViewNotification}\r\n                        />\r\n                        <Workspace\r\n                            refEditor={refEditor}\r\n                            stateViewEditor={{ viewEditor, setViewEditor }}\r\n                            stateSizeSelectElement={{sizeSelectElement, setSizeSelectElement}}\r\n                        />\r\n                    </div>\r\n                    <CanvasTools canvas={store.getState().canvas} history={store.getState().history} setViewReset={setViewReset} />\r\n                </div>\r\n            </div>\r\n            {(viewSave || viewSaveJSON || viewResize || viewReset || sizeInsertImage.view || viewNotification) && <div className={styles.shadow}></div>}\r\n            {viewSave && <SaveComputer setView={setViewSave} /> }\r\n            {viewSaveJSON && <SaveAsJSON setView={setViewSaveJSON} /> }\r\n            {viewResize && <ResizeTemplate setView={setViewResize} />}\r\n            {viewReset && <ResetCanvas setView={setViewReset} stateViewEditor={{ viewEditor, setViewEditor }} />}\r\n            {sizeInsertImage.view && <InsertImage stateSizeInsertImage={{sizeInsertImage, setSizeInsertImage}} />}\r\n            {viewNotification && <UnavailableContent setView={setViewNotification} />}\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport { Provider } from 'react-redux'\r\nimport './index.css'\r\nimport { Card } from './components/Card'\r\nimport { store } from './store/store'\r\n\r\n\r\nfunction render() {\r\n  ReactDOM.render(\r\n    <Provider store={store}>\r\n      <Card />\r\n    </Provider>,\r\n    document.getElementById('root')\r\n  )\r\n}\r\n\r\nstore.subscribe(() => {\r\n  render()\r\n})\r\nrender()\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card_size\":\"Card_card_size__3jYSH\",\"card__content\":\"Card_card__content__cBS9l\",\"card__workspace\":\"Card_card__workspace__3T2Gg\",\"shadow\":\"Card_shadow__38ows\",\"block\":\"Card_block__STNHA\",\"flex\":\"Card_flex__1Pn8W\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"ImageManager_header__29Ma5\",\"button\":\"ImageManager_button__P1GGS\",\"text\":\"ImageManager_text__GO3YZ\",\"input\":\"ImageManager_input__2lQp2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modal_window\":\"SaveAsJSON_modal_window__n3wSu\",\"content_layout\":\"SaveAsJSON_content_layout__17H7I\",\"header\":\"SaveAsJSON_header__uFZRe\",\"subHeader\":\"SaveAsJSON_subHeader__4F4ry\",\"input\":\"SaveAsJSON_input__WV5Yc\",\"format\":\"SaveAsJSON_format__3ibgO\",\"format__buttonWrap\":\"SaveAsJSON_format__buttonWrap__1MCFk\",\"format__buttonJPG\":\"SaveAsJSON_format__buttonJPG__3ttYq\",\"format__buttonPNG\":\"SaveAsJSON_format__buttonPNG__8hZEk\",\"format_selected\":\"SaveAsJSON_format_selected__1iPIl\",\"canvasSize\":\"SaveAsJSON_canvasSize__3l6CS\",\"button_layout\":\"SaveAsJSON_button_layout__1zOwW\",\"viewOn\":\"SaveAsJSON_viewOn__1iVx4\",\"viewOff\":\"SaveAsJSON_viewOff__eQe1g\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrap\":\"Button_wrap__jIwdB\",\"name\":\"Button_name__1PI0y\",\"size\":\"Button_size__38xal\",\"viewOff\":\"Button_viewOff__jZ2Mk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrap\":\"ResetCanvas_wrap__3-KLf\",\"content_layout\":\"ResetCanvas_content_layout__2spoI\",\"text\":\"ResetCanvas_text__2J9X-\",\"button_layout\":\"ResetCanvas_button_layout__3bzj4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrap\":\"InsertImage_wrap__LEkcb\",\"content_layout\":\"InsertImage_content_layout__1wt5F\",\"text\":\"InsertImage_text__1-4kD\",\"button_layout\":\"InsertImage_button_layout__2oFnF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrap\":\"UnavailableContent_wrap__2wChJ\",\"content_layout\":\"UnavailableContent_content_layout__2EN7T\",\"text\":\"UnavailableContent_text__21hCu\",\"button_layout\":\"UnavailableContent_button_layout__1iLIh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Menu_button__2dJm_\",\"text\":\"Menu_text__2YZh7\",\"image\":\"Menu_image__28OON\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"Popup_list__1NVrj\",\"lists\":\"Popup_lists__1vMnX\",\"functional\":\"Popup_functional__2ARJ7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrap\":\"ResizeTemplate_wrap__3IA_W\",\"viewOn\":\"ResizeTemplate_viewOn__3Z1TF\",\"viewOff\":\"ResizeTemplate_viewOff__W5YHE\",\"buttonLayout\":\"ResizeTemplate_buttonLayout__1ByC8\",\"header\":\"ResizeTemplate_header__3r8eE\",\"headerWrap\":\"ResizeTemplate_headerWrap__1-8N6\",\"subHeader\":\"ResizeTemplate_subHeader__pR7NZ\",\"content_layout\":\"ResizeTemplate_content_layout__2G4we\",\"img\":\"ResizeTemplate_img__1j7xU\",\"font_layout\":\"ResizeTemplate_font_layout__l2v51\",\"size_layout\":\"ResizeTemplate_size_layout__2Izdg\",\"font_name\":\"ResizeTemplate_font_name__24Dg-\",\"font_size\":\"ResizeTemplate_font_size__3ek-L\",\"sizes\":\"ResizeTemplate_sizes__1ch90\",\"size\":\"ResizeTemplate_size__3MFKM\",\"size_header\":\"ResizeTemplate_size_header__3Hce8\",\"size_value\":\"ResizeTemplate_size_value__1QrP8\",\"px_layout\":\"ResizeTemplate_px_layout__2p1YQ\",\"px_w\":\"ResizeTemplate_px_w__SDRmr\",\"px_h\":\"ResizeTemplate_px_h__qik8n\",\"font_list\":\"ResizeTemplate_font_list__nL93x\",\"buttons_layout\":\"ResizeTemplate_buttons_layout__1hcu8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__1RzOT\",\"button_name\":\"Button_button_name__Rf3Rc\",\"button_image\":\"Button_button_image__dzZ8q\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Templates_header__1YeaB\",\"button\":\"Templates_button__2x7Ot\",\"text\":\"Templates_text__3LCJd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Text_header__l82du\",\"button\":\"Text_button__3E0ox\",\"text\":\"Text_text__1U9K7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrap\":\"ButtonFont_wrap__3w1gW\",\"selected\":\"ButtonFont_selected__QesrU\",\"text\":\"ButtonFont_text__3BQNx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"img\":\"Stickers_img__18pDm\",\"subheader\":\"Stickers_subheader__3Pcic\",\"popup\":\"Stickers_popup__2uPIS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"point\":\"SelectElement_point__U2i1B\",\"pointTopLeft\":\"SelectElement_pointTopLeft__by4R0\",\"pointBottomLeft\":\"SelectElement_pointBottomLeft__3wwG3\",\"pointTopRight\":\"SelectElement_pointTopRight__2KE9Z\",\"pointBottomRight\":\"SelectElement_pointBottomRight__S9Rgi\",\"block\":\"SelectElement_block__Qj_px\",\"blockTop\":\"SelectElement_blockTop__1HPpC\",\"blockBottom\":\"SelectElement_blockBottom__3AHXl\",\"blockRight\":\"SelectElement_blockRight__1Dfm9\",\"blockLeft\":\"SelectElement_blockLeft__2OC3U\",\"border\":\"SelectElement_border__1Z6fz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"logo\":\"Logo_logo__1A5s_\",\"svg\":\"Logo_svg__l8ubr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"stickers\":\"CollectionOfStickers_stickers__3YRsy\",\"sticker\":\"CollectionOfStickers_sticker__18CF5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"StickersManager_header__3g-DP\",\"stickers\":\"StickersManager_stickers__xqsHs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrap\":\"Button_wrap__1xb6q\",\"text\":\"Button_text__1u5tU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navbar\":\"NavigationBar_navbar__1l1pt\",\"button__layout\":\"NavigationBar_button__layout__3DxAO\",\"list_element\":\"NavigationBar_list_element__3VdIt\",\"list_image\":\"NavigationBar_list_image__32YIR\",\"list_text\":\"NavigationBar_list_text__1C0j5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modal_window\":\"SaveComputer_modal_window__2tXvm\",\"content_layout\":\"SaveComputer_content_layout__BI2wR\",\"header\":\"SaveComputer_header__2f1BB\",\"subHeader\":\"SaveComputer_subHeader__Ipi1J\",\"input\":\"SaveComputer_input__3rbkf\",\"format\":\"SaveComputer_format__9Js6I\",\"format__buttonWrap\":\"SaveComputer_format__buttonWrap__18a8Y\",\"format__buttonJPG\":\"SaveComputer_format__buttonJPG__WwDvk\",\"format__buttonPNG\":\"SaveComputer_format__buttonPNG__3_Fki\",\"format_selected\":\"SaveComputer_format_selected__3YYfC\",\"canvasSize\":\"SaveComputer_canvasSize__7SMOg\",\"button_layout\":\"SaveComputer_button_layout__20OU9\",\"viewOn\":\"SaveComputer_viewOn__1cEmq\",\"viewOff\":\"SaveComputer_viewOff__3U_T1\"};"],"sourceRoot":""}